(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[140],{"39Vf":function(e,t,o){"use strict";o.r(t);var r=o("KQm4"),n=o("ODXe"),a=o("rePB"),i=o("MX0m"),s=o.n(i),l=o("q1tI"),c=o.n(l),u=o("17x9"),p=o.n(u);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var M=Object(l.forwardRef)((function(e,t){var o=e.color,r=void 0===o?"currentColor":o,n=e.size,a=void 0===n?24:n,i=g(e,["color","size"]);return(c.a.createElement("svg",d({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),c.a.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),c.a.createElement("polyline",{points:"19 12 12 19 5 12"})))}));M.propTypes={color:p.a.string,size:p.a.oneOfType([p.a.string,p.a.number])},M.displayName="ArrowDown";var m,f,y,h,b,E=M,v=o("zIMB"),O=o("lnsZ"),T=o("bHc6"),_=o("w8Aj"),G=o("MraH"),j=o("rlJ6"),S=o("1qJS"),L=o("oRUw"),x=o("ZQts"),B=o("+dTV"),P=c.a.createElement;function w(e,t){var o;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(e,t)}(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==o.return||o.return()}finally{if(s)throw a}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var N=_.MangoGameState.MangoState,W=[{src:"puzzle/mango/bgm",sprite:{full:[0,42140],loop:[10140,32e3]},onend:function(){this.play("loop")}},{src:"puzzle/mango/sfx",sprite:{charmander:[0,1009],lapras:[1009,1933],ekans:[2942,784],push:[3726,906],blockHitWall:[4632,844],magikarp:[5476,1959],ditto:[7435,2090],water:[9525,1408],move:[10933,136],hitWall:[11069,228]}}],A=(m={},Object(a.a)(m,_.MangoMove.MOVE_NONE,""),Object(a.a)(m,_.MangoMove.MOVE_FLAMETHROWER,"charmander"),Object(a.a)(m,_.MangoMove.MOVE_WRAP,"ekans"),Object(a.a)(m,_.MangoMove.MOVE_SURF,"lapras"),Object(a.a)(m,_.MangoMove.MOVE_SPLASH,"magikarp"),Object(a.a)(m,_.MangoMove.MOVE_STRENGTH,"push"),Object(a.a)(m,_.MangoMove.MOVE_MIMIC,"ditto"),m),R=(f={},Object(a.a)(f,_.MangoObject.NO_OBJECT,""),Object(a.a)(f,_.MangoObject.ICE_BLOCK,"ice_block"),f),k=(y={},Object(a.a)(y,_.BackgroundTile.ICE,"ice"),Object(a.a)(y,_.BackgroundTile.WATER,"water"),y),I=[["\u2b06",j.Direction.UP],["\u27a1",j.Direction.RIGHT],["\u2b07\ufe0f",j.Direction.DOWN],["\u2b05",j.Direction.LEFT]],C=(h={},Object(a.a)(h,_.MangoMove.MOVE_FLAMETHROWER,"\ud83d\udd25"),Object(a.a)(h,_.MangoMove.MOVE_STRENGTH,"\ud83d\udcaa\ud83c\udffd"),h),z=(b={},Object(a.a)(b,_.MangoMove.MOVE_NONE,""),Object(a.a)(b,_.MangoMove.MOVE_FLAMETHROWER,"Charmander used Flamethrower!"),Object(a.a)(b,_.MangoMove.MOVE_WRAP,"Ekans used Wrap!"),Object(a.a)(b,_.MangoMove.MOVE_SURF,"Lapras used Surf!"),Object(a.a)(b,_.MangoMove.MOVE_SPLASH,"Magikarp used Splash!"),Object(a.a)(b,_.MangoMove.MOVE_STRENGTH,"Machamp used Strength!"),Object(a.a)(b,_.MangoMove.MOVE_MIMIC,"Ditto used Transform!"),b),D=["Frost Cavern","Ice Path","Twist Mountain","Seafoam Islands","Lake Acuity","Shoal Cave","Crown Tundra","Mount Lanakila"],V=function(e,t){var o,r=(o={},Object(a.a)(o,j.Direction.DIRECTION_NONE,0),Object(a.a)(o,j.Direction.UP,0),Object(a.a)(o,j.Direction.RIGHT,1),Object(a.a)(o,j.Direction.DOWN,2),Object(a.a)(o,j.Direction.LEFT,3),o);return(e.getWalls()>>r[t])%2===1},H=function(e){var t,o,r,n;return[null!==(t=null===e||void 0===e?void 0:null===(o=e.getLocation())||void 0===o?void 0:o.getX())&&void 0!==t?t:0,null!==(r=null===e||void 0===e?void 0:null===(n=e.getLocation())||void 0===n?void 0:n.getY())&&void 0!==r?r:0]},U=function(e,t,o,r){var a=H(r),i=Object(n.a)(a,2),s=i[0],l=i[1];return(null===r||void 0===r?void 0:r.getMeeple())!==o&&Math.abs(e-s)+Math.abs(t-l)===1},Y=function(e,t){return Math.min(t.width/(e.getWidth()+1),t.height/(e.getHeight()+1))},J=function(e,t,o){var r,n,a=Y(t,o);return[(null!==(r=null===e||void 0===e?void 0:e.getX())&&void 0!==r?r:0)*a+(o.width-a*t.getWidth())/2,(null!==(n=null===e||void 0===e?void 0:e.getY())&&void 0!==n?n:0)*a+(o.height-a*t.getHeight())/2]},X=function(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.drawImage(t,0,r?o.height/2:0,o.width,o.height/(r?2:1))};t.default={Game:function(e){var t,o,a,i,u,p=e.canvasRef,d=e.gameState,g=e.isConnected,M=e.setLoading,m=e.currentPlayer,f=e.sendMessage,y=e.restartGame,h=e.screenDimensions,b=Object(l.useState)(!1),F=b[0],q=b[1],K=Object(l.useState)(null),$=K[0],Z=K[1],Q=Object(l.useState)(null),ee=Q[0],te=Q[1],oe=Object(l.useState)([]),re=oe[0],ne=oe[1],ae=Object(l.useState)([]),ie=ae[0],se=ae[1],le=Object(l.useState)([]),ce=le[0],ue=le[1],pe=Object(l.useState)([]),de=pe[0],ge=pe[1],Me=Object(l.useState)(null),me=Me[0],fe=Me[1],ye=Object(l.useState)([]),he=ye[0],be=ye[1],Ee=Object(l.useState)(_.MangoMove.MOVE_NONE),ve=Ee[0],Oe=Ee[1],Te=Object(l.useState)(0),_e=Te[0],Ge=Te[1],je=Object(l.useState)(!1),Se=je[0],Le=je[1],xe=Object(l.useRef)([0,0]),Be=[Object(l.useRef)(null),Object(l.useRef)(null),Object(l.useRef)(null),Object(l.useRef)(null)],Pe=Object(x.b)("puzzle/mango/",["loading","title","target","text","meeple","ice","water"].concat(Object(r.a)(Object.values(R).filter((function(e){return!!e}))))),we=Pe.isLoading,Fe=Pe.images,Ne=Object(x.c)("",[].concat(W,[x.a])),We=Ne.isLoading,Ae=Ne.sounds;Object(l.useEffect)((function(){we||We||M(!1)}),[we,We]);var Re=Object(l.useRef)(null),ke=Object(l.useRef)(0),Ie=Object(l.useRef)([0,0]),Ce=function(e){var t;if((null===(t=Re.current)||void 0===t?void 0:t.getState())===N.PLAYING&&$){var o,r=null,n=w(ie);try{for(n.s();!(o=n.n()).done;){var a=o.value;if(he.includes(a.getMeeple())){var i=Y($,h),s=J(a.getLocation(),$,h);if(Object(S.f)(Ie.current,s,[s[0]+i,s[1]+i])){r=(null===me||void 0===me?void 0:me.getMeeple())===a.getMeeple()?null:a;break}}}}catch(l){n.e(l)}finally{n.f()}fe(null),r&&fe(r)}};Object(B.b)("keyup",(function(e){var t;if(e!==B.a.TAB){var o=S.a[e];(null===(t=Re.current)||void 0===t?void 0:t.getState())===N.PLAYING&&o&&Be[o-1].current&&Be[o-1].current.click()}else!function(){var e,t=null,o=!1,r=w(ie);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(he.includes(n.getMeeple())){if(!(null===me||void 0===me?void 0:me.getMeeple())){t=n;break}if(o){t=n;break}me.getMeeple()===n.getMeeple()&&(o=!0)}}}catch(a){r.e(a)}finally{r.f()}fe(null),t&&fe(t)}()}),window,[]);Object(l.useEffect)((function(){var e=p.current.getBoundingClientRect();return p.current.onmousemove=function(t){Ie.current=[Math.floor(t.clientX-e.x),Math.floor(t.clientY-e.y)]},p.current.onclick=Ce,function(){p.current.onclick=void 0,p.current.onmousemove=void 0}}),[p.current,f]);var ze=function(){var e=new _.MangoGameAction,t=new G.GameAction;t.setAction(G.Action.START_GAME),e.setBaseAction(t),f(e),q(!0),Ae["public/mainsfx"].play("select")};Object(l.useEffect)((function(){var e,t;if(Re.current=d,ke.current=null!==(e=null===d||void 0===d?void 0:d.getBaseState().getTick())&&void 0!==e?e:0,d&&g&&!we&&!Se){if(Object(S.e)(d))return Ae["puzzle/mango/bgm"].fade(1,0,1e3),Ae["public/mainsfx"].play("win"),void Le(!0);switch(d.getState()){case N.WAITING_FOR_START:break;case N.LEVEL_SELECT:d.getBaseState().getLevel()!==_e&&Ge(d.getBaseState().getLevel());break;case N.LEVEL_TRANSITION:var o=null!==(t=d.getBaseState().getLevel())&&void 0!==t?t:0;0!==o||Ae["puzzle/mango/bgm"].playing()||Ae["puzzle/mango/bgm"].play("full"),o!==_e&&Ge(o),se([]),ge([]),ne([]),ue([]),Oe(_.MangoMove.MOVE_NONE),fe(null);break;case N.MOVING:var r=d.getMoveTick();if(0===xe.current[0]&&r){xe.current=[ke.current,r];var n=d.getMeeplesList();n.length&&(se(n),ge(ie));var a=d.getObjectsList();a.length&&(ne(a),ue(re))}case N.PLAYING:d.getState()===N.PLAYING&&xe.current[0]>0&&(xe.current=[0,0]);var i=d.getBoard();i&&i!==$&&Z(i);var s=d.getTarget();s&&s!==ee&&te(s);var l=d.getMeeplesList();l.length&&d.getState()===N.PLAYING&&(se(l),ge(ie.length?ie:l));var c=d.getObjectsList();re.length!==c.length&&(ne(c),ue(c));var u=d.getPlayerMeeplesList();u.length&&be(u[m].getMeeplesList());var p=d.getMove();p!==ve&&(Oe(p),fe(null),Ae["puzzle/mango/sfx"].play(A[p]))}}}),[d]);Object(L.a)((function(e){var t,o;if(!(we||We||Object(S.e)(Re.current))){var r=p.current.getContext("2d");r.clearRect(0,0,h.width,h.height);var a=null!==(t=null===(o=Re.current)||void 0===o?void 0:o.getState())&&void 0!==t?t:N.WAITING_FOR_START;a===N.WAITING_FOR_START?X(r,Fe.title,h):a===N.LEVEL_SELECT||a===N.LEVEL_TRANSITION?X(r,Fe.loading,h,!0):a!==N.PLAYING&&a!==N.MOVING||!$||(!function(e,t,o,r){var a=t.getWidth(),i=t.getHeight(),s=Y(t,r),l=function(e){return[e%a*s+(r.width-s*a)/2,Math.floor(e/a)*s+(r.height-s*i)/2]};t.getTilesList().forEach((function(t,r){var n=l(r),a=t.getBackground();a===_.BackgroundTile.ICE?e.drawImage(o[k[a]],32,32,32,32,n[0]+1,n[1]+1,s-2,s-2):e.drawImage(o[k[a]],n[0]+1,n[1]+1,s-2,s-2)})),t.getTilesList().forEach((function(t,o){var r=l(o);e.beginPath(),e.moveTo(r[0],r[1]),e.lineWidth=2,[[j.Direction.UP,[s,0]],[j.Direction.RIGHT,[s,s]],[j.Direction.DOWN,[0,s]],[j.Direction.LEFT,[0,0]]].forEach((function(o){var a=Object(n.a)(o,2),i=a[0],s=a[1];V(t,i)?e.lineTo(r[0]+s[0],r[1]+s[1]):e.moveTo(r[0]+s[0],r[1]+s[1])})),e.stroke()}))}(r,$,Fe,h),function(e,t,o,r,n){var a=t.getWidth(),i=t.getHeight(),s=Y(t,n);e.drawImage(r,o.getX()*s+(n.width-s*a)/2,o.getY()*s+(n.height-s*i)/2,s,s)}(r,$,ee,Fe.target,h),ie.forEach((function(t,o){var i;return function(e,t,o,r,a,i,s,l,c,u){var p=u.isMoving,d=void 0!==p&&p,g=u.tick,M=void 0===g?0:g,m=u.startTick,f=void 0===m?0:m,y=u.endTick,h=void 0===y?0:y,b=Y(t,c),E=a.getLocation(),v=i.getLocation(),O=J(E,t,c),T=J(v,t,c);d&&(O=Object(S.b)(T,O,f,h,M));var G=a.getMeeple(),j=G<=6?0:G-6;if(e.save(),G===_.Meeple.PINK_MEEPLE){var L=H(i),x=Object(n.a)(L,2),B=x[0],P=x[1];s.some((function(e){return U(B,P,G,e)}))?e.filter="brightness(120%)":e.filter="brightness(85%)"}e.drawImage(l,100*j,0,100,100,O[0]+2,O[1]+2,b-4,b-4),e.restore(),!d&&r&&Object(S.f)(o,O,[O[0]+b,O[1]+b])&&(e.fillStyle="rgba(0, 0, 0, 0.1)",e.fillRect(O[0],O[1],b,b))}(r,$,Ie.current,he.includes(null!==(i=t.getMeeple())&&void 0!==i?i:0),t,de[o],de,Fe.meeple,h,{isMoving:a===N.MOVING,tick:e,startTick:xe.current[0],endTick:xe.current[1]})})),re.forEach((function(t,o){return function(e,t,o,r,n,a,i){var s=i.isMoving,l=void 0!==s&&s,c=i.tick,u=void 0===c?0:c,p=i.startTick,d=void 0===p?0:p,g=i.endTick,M=void 0===g?0:g,m=Y(t,a),f=o.getLocation(),y=r.getLocation(),h=J(f,t,a),b=J(y,t,a);l&&(h=Object(S.b)(b,h,d,M,u)),e.drawImage(n[R[o.getObject()]],h[0]+2,h[1]+2,m-4,m-4)}(r,$,t,ce[o],Fe,h,{isMoving:a===N.MOVING,tick:e,startTick:xe.current[0],endTick:xe.current[1]})})))}}),ke,[$,ee,ie]);var De=null!==(t=null===d||void 0===d?void 0:d.getState())&&void 0!==t?t:N.WAITING_FOR_START,Ve=null!==(o=null===d||void 0===d?void 0:d.getBaseState().getStatus())&&void 0!==o?o:G.GameStatus.WAITING_FOR_START,He=null!==(a=null===d||void 0===d?void 0:d.getBaseState().getPlayersList())&&void 0!==a?a:[],Ue=null!==(i=null===d||void 0===d?void 0:d.getBaseState().getTick())&&void 0!==i?i:0;if(we||We)return P("div",{className:"message abs-center"},"Loading tiles...");var Ye=$?Array.from(Array($.getWidth()).keys()).map((function(e){var t=new j.Coordinate;return t.setX(e),J(t,$,h)})):[],Je=$?Array.from(Array($.getHeight()).keys()).map((function(e){var t=new j.Coordinate;return t.setY(e),J(t,$,h)})):[],Xe=$&&me?J(me.getLocation(),$,h):[],qe=$&&De===N.PLAYING?ie.filter((function(e){return he.includes(e.getMeeple())})).map((function(e){return J(e.getLocation(),$,h)})):[],Ke=$?Y($,h):0,$e=function(e,t){if(!e)return[];var o=e.getMeeple(),a=H(e),i=Object(n.a)(a,2),s=i[0],l=i[1],c=o===_.Meeple.PINK_MEEPLE?t.reduce((function(e,t){return U(s,l,o,t)?[].concat(Object(r.a)(e),[t.getMeeple()]):e}),[]):[o];return c.sort(),c}(me,ie),Ze={styles:P(s.a,{id:"2957291911",dynamic:[.4*h.width]},["div.__jsx-style-dynamic-selector{top:85%;max-width:".concat(.4*h.width,"px;}")]),className:s.a.dynamic([["2957291911",[.4*h.width]]])},Qe=Ze.className,et=Ze.styles;return P(c.a.Fragment,null,Object(S.e)(d)?P(c.a.Fragment,null,P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" winLose message abs-center"},P("h3",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},"GAME COMPLETE")),P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" bottom message abs-center"},P("button",{onClick:function(){Object(S.e)(Re.current)&&(Ae["public/mainsfx"].play("select"),q(!1),Z(null),te(null),ne([]),se([]),ue([]),ge([]),fe(null),be([]),Oe(_.MangoMove.MOVE_NONE),Ge(0),Le(!1),Re.current=null,ke.current=0,p.current.getContext("2d").clearRect(0,0,h.width,h.height),y())},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" menu-button"},"Back to lobby"))):De===N.WAITING_FOR_START&&0===Ue?P(O.a,{playerStarted:F,isConnected:g,players:He,currentPlayer:m,startButton:P("button",{onClick:ze,className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" menu-button"},"Ready to start"),confirmButton:P("button",{onClick:ze,className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" menu-button"},"Start Game"),rejoinButton:P("button",{onClick:y,className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" menu-button"},"Rejoin lobby"),className:Qe}):De===N.LEVEL_SELECT?P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" message top abs-center flex-center level-select"},P("h2",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},"Select level"),Array.from(Array(_e+1).keys()).map((function(e){return P("button",{key:"level-".concat(e),onClick:function(){return function(e){var t=new _.MangoGameAction;t.setLevel(e),f(t),Ae["public/mainsfx"].play("select"),Ae["puzzle/mango/bgm"].play("full")}(e)},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" menu-button"},"Level ",e+1)}))):De===N.LEVEL_TRANSITION?P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" message top abs-center"},P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},P("h3",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},"Level ",_e+1,": ",D[_e]),P("p",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},"Assembling ice blocks..."))):(De===N.PLAYING||De===N.MOVING)&&P(c.a.Fragment,null,P("div",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" move-count"},"Moves: ",null!==(u=d.getMoveCount())&&void 0!==u?u:0),P("button",{disabled:De===N.MOVING,onClick:function(){if(Ae["public/mainsfx"].play("select"),confirm("Are you sure you wish to reset? This cannot be undone.")){var e=new _.MangoGameAction;e.setReset(!0),f(e),fe(null)}},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" reset menu-button"},"Reset level"),Ye.map((function(e,t){return P("div",{key:"notation-x-".concat(t),style:{left:e[0]+Ke/2,top:e[1]-Math.floor(h.height/32)},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" ui"},"abcdefghijklmnopqrstuvwxyz".charAt(t))})),Je.map((function(e,t){return P("div",{key:"notation-y-".concat(t),style:{left:e[0]-Math.floor(h.width/48),top:e[1]+Ke/2},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" ui"},$.getHeight()-t)})),qe.map((function(e,t){return P("div",{key:"control-".concat(t),style:{left:e[0],top:e[1]},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" ui"},P("div",{style:{width:Ke,height:Ke},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" controlled-arrow"},P(E,null)))})),$&&me&&De!==N.MOVING?P("div",{style:{left:Xe[0],top:Xe[1]},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" ui"},P("div",{style:{width:Ke,height:Ke},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" arrows"},I.map((function(e,t){var o=Object(n.a)(e,2),a=o[0],i=o[1],l=function(e,t,o,a,i,s){var l=H(e),c=Object(n.a)(l,2),u=c[0],p=c[1],d=t.getTilesList(),g=p*t.getWidth()+u,M=null,m=function(t,o){return[].concat(Object(r.a)(a),Object(r.a)(i)).some((function(r){return r.getMeeple()!==e.getMeeple()&&H(r)[0]===t&&H(r)[1]===o}))};switch(s){case j.Direction.UP:return 0===p?o.includes(_.Meeple.PURPLE_MEEPLE)&&!m(u,t.getHeight()-1):(M=(p-1)*t.getWidth()+u,!(V(d[g],s)||V(d[M],j.Direction.DOWN)||m(u,p-1)));case j.Direction.RIGHT:return u===t.getWidth()-1?o.includes(_.Meeple.PURPLE_MEEPLE)&&!m(0,p):(M=p*t.getWidth()+(u+1),!(V(d[g],s)||V(d[M],j.Direction.LEFT)||m(u+1,p)));case j.Direction.DOWN:return p===t.getHeight()-1?o.includes(_.Meeple.PURPLE_MEEPLE)&&!m(u,0):(M=(p+1)*t.getWidth()+u,!(V(d[g],s)||V(d[M],j.Direction.UP)||m(u,p+1)));case j.Direction.LEFT:return 0===u?o.includes(_.Meeple.PURPLE_MEEPLE)&&!m(t.getWidth()-1,p):(M=p*t.getWidth()+(u-1),!(V(d[g],s)||V(d[M],j.Direction.RIGHT)||m(u-1,p)))}}(me,$,$e,ie,re,i),c=!l&&function(e,t,o,r,a,i){var s=H(e),l=Object(n.a)(s,2),c=l[0],u=l[1],p=t.getTilesList(),d=u*t.getWidth()+c,g=null,M=!1,m=!1,f=o.some((function(e){return e===_.Meeple.RED_MEEPLE||e===_.Meeple.BROWN_MEEPLE}))?_.MangoObject.ICE_BLOCK:null,y=function(e,t){return r.some((function(o){return(!f||o.getObject()===f)&&H(o)[0]===e&&H(o)[1]===t}))};switch(i){case j.Direction.UP:if(0===u)return null;g=(u-1)*t.getWidth()+c,M=y(c,u-1),m=V(p[d],i)||V(p[g],j.Direction.DOWN);break;case j.Direction.RIGHT:if(c===t.getWidth()-1)return null;g=u*t.getWidth()+(c+1),M=y(c+1,u),m=V(p[d],i)||V(p[g],j.Direction.LEFT);break;case j.Direction.DOWN:if(u===t.getHeight()-1)return null;g=(u+1)*t.getWidth()+c,M=y(c,u+1),m=V(p[d],i)||V(p[g],j.Direction.UP);break;case j.Direction.LEFT:if(0===c)return null;g=u*t.getWidth()+(c-1),M=y(c-1,u),m=V(p[d],i)||V(p[g],j.Direction.RIGHT)}var h,b=w(o);try{for(b.s();!(h=b.n()).done;){var E=h.value;switch(E){case _.Meeple.RED_MEEPLE:case _.Meeple.BROWN_MEEPLE:if(m||!M)break;return E===_.Meeple.RED_MEEPLE?_.MangoMove.MOVE_FLAMETHROWER:_.MangoMove.MOVE_STRENGTH}}}catch(v){b.e(v)}finally{b.f()}return null}(me,$,$e,re,0,i);return P("button",{key:a,ref:Be[t],disabled:!l&&!c,onClick:function(){return c?function(e,t,o){var r=new _.MangoGameAction;r.setMeeple(e.getMeeple()),r.setMove(t),o&&r.setSpecial(o),f(r),fe(null)}(me,i,c):function(e,t){var o=new _.MangoGameAction;o.setMeeple(e.getMeeple()),o.setMove(t),f(o),fe(null),Ae["puzzle/mango/sfx"].play("move")}(me,i)},className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" "+"arrow ".concat(c?"special":"")},P(T.b,{emoji:c?C[c]:a}))})))):null,P(v.a,{name:"text",fadeInTime:300,fadeOutTime:200},ve?P("div",{key:"moveText",className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])+" move abs-center"},P("p",{className:s.a.dynamic([["2518244868",[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]]])},z[ve])):null)),P(s.a,{id:"2518244868",dynamic:[Ve===G.GameStatus.COMPLETE_WIN?"green":"red",Fe.text.src,Fe.text.src]},[".flex-center.__jsx-style-dynamic-selector{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}",".top.__jsx-style-dynamic-selector{top:25%;}",".level-select.__jsx-style-dynamic-selector{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:250px;text-align:center;}",".level-select.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;margin:0;}",".level-select.__jsx-style-dynamic-selector button.__jsx-style-dynamic-selector{margin:8px 12px;}",".bottom.__jsx-style-dynamic-selector{top:75%;}",".message.__jsx-style-dynamic-selector{color:#000;pointer-events:none;font-size:25px;}",".winLose.message.__jsx-style-dynamic-selector{color:".concat(Ve===G.GameStatus.COMPLETE_WIN?"green":"red",";font-size:50px;top:20%;}"),".move.__jsx-style-dynamic-selector{font-size:2vmin;position:absolute;top:calc(100% - 40px);-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}",".move.__jsx-style-dynamic-selector>p.__jsx-style-dynamic-selector{background:url(".concat(Fe.text.src,");background-size:120% 100%;background-position:center;padding:20px 80px;position:relative;}"),".move.__jsx-style-dynamic-selector>p.__jsx-style-dynamic-selector:before,.move.__jsx-style-dynamic-selector>p.__jsx-style-dynamic-selector:after{background:url(".concat(Fe.text.src,");background-size:300px 100%;content:'';position:absolute;top:0;height:100%;width:20px;}"),".move.__jsx-style-dynamic-selector>p.__jsx-style-dynamic-selector:before{left:-12px;}",".move.__jsx-style-dynamic-selector>p.__jsx-style-dynamic-selector:after{right:-12px;-webkit-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1);}",".ui.__jsx-style-dynamic-selector{position:absolute;}",".arrows.__jsx-style-dynamic-selector{position:relative;}",".arrow.__jsx-style-dynamic-selector{border:none;font-size:32px;position:absolute;padding:0;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".controlled-arrow.__jsx-style-dynamic-selector{position:relative;top:-20px;left:calc(50% - 12px);}",".arrow.__jsx-style-dynamic-selector:not(.special){background:none;}",".arrow.special.__jsx-style-dynamic-selector{background:#3b88c3;border-radius:2px;width:40px;}",".arrow.__jsx-style-dynamic-selector:hover{-webkit-filter:brightness(1.5);filter:brightness(1.5);}",".arrow.__jsx-style-dynamic-selector:hover.__jsx-style-dynamic-selector:not(.special){background:none;}",".arrow.special.__jsx-style-dynamic-selector:hover{background:#3b88c3;}",".arrow.__jsx-style-dynamic-selector:disabled{-webkit-filter:grayscale(100%);filter:grayscale(100%);}",".arrow.__jsx-style-dynamic-selector:first-child{top:-20px;left:50%;}",".arrow.__jsx-style-dynamic-selector:nth-child(2){top:50%;right:-60px;}",".arrow.__jsx-style-dynamic-selector:nth-child(3){bottom:-60px;left:50%;}",".arrow.__jsx-style-dynamic-selector:nth-child(4){top:50%;left:-20px;}",".move-count.__jsx-style-dynamic-selector{position:absolute;top:20px;left:20px;}",".reset.__jsx-style-dynamic-selector{position:absolute;top:40px;right:20px;}",".menu-button.__jsx-style-dynamic-selector{background:#d6e9f6;border-color:#26597b;color:#26597b;font-size:20px;height:30px;padding:0 10px;}",".menu-button.__jsx-style-dynamic-selector:hover{background:rgba(214,233,246,0.7);}"]),et)},State:_.MangoGameState}},lnsZ:function(e,t,o){"use strict";var r=o("wx14"),n=o("Ff2n"),a=o("MX0m"),i=o.n(a),s=o("q1tI"),l=o.n(s),c=l.a.createElement;t.a=function(e){var t=e.playerStarted,o=e.isConnected,a=e.title,s=e.players,u=e.currentPlayer,p=e.playerSprite,d=e.startButton,g=e.confirmButton,M=e.rejoinButton,m=e.className,f=e.requiredPlayers,y=void 0===f?1:f,h=Object(n.a)(e,["playerStarted","isConnected","title","players","currentPlayer","playerSprite","startButton","confirmButton","rejoinButton","className","requiredPlayers"]),b=o&&s.every((function(e){return e.getReady()}))&&s.length>=y,E=Math.max(y-1,s.filter((function(e){return!e.getReady()})).length);return c("div",Object(r.a)({},h,{className:"jsx-243751013 "+(h&&null!=h.className&&h.className||"abs-center center ".concat(null!==m&&void 0!==m?m:""))}),a,b?c(l.a.Fragment,null,g,c("p",{className:"jsx-243751013 small"},"Note: Once you begin a session, others won't be able to join until it ends.")):t&&s.length>=y?"Waiting for ".concat(E," other player").concat(1===E?"":"s"," to join..."):t?"(Minimum of ".concat(y," players required)"):o?d:c(l.a.Fragment,null,M,c("p",{className:"jsx-243751013 small"},"Game in session... ",c("br",{className:"jsx-243751013"}),"Please wait for the current session to complete.")),s.length>0&&c("p",{className:"jsx-243751013 small"},"(",s.length," player",1===s.length?" ":"s ","in lobby)"),p&&c("div",{className:"jsx-243751013 players flex-center"},s.map((function(e,t){return c("div",{key:t,style:{backgroundPosition:"".concat(100*t/5,"%"),backgroundImage:"url(".concat(p.url,")"),backgroundSize:"600% 100%",transform:"scale(".concat(t===u?1:.7,")"),filter:e.getReady()?"none":"grayscale(1) opacity(80%)",width:p.width,height:p.height},className:"jsx-243751013"})}))),c(i.a,{id:"243751013"},[".small.jsx-243751013{font-size:1.8vmin;line-height:2.2vmin;margin-top:2.8vmin;}"]))}},oRUw:function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var r=o("q1tI"),n=function(e,t,o){var n=Object(r.useRef)(),a=Object(r.useRef)(),i=function o(r){if(void 0!==a.current){var i=r-a.current;t.current+=i/100,e(t.current)}a.current=r,n.current=requestAnimationFrame(o)};Object(r.useEffect)((function(){return n.current=requestAnimationFrame(i),function(){return cancelAnimationFrame(n.current)}}),[o])}},w8Aj:function(e,t,o){var r=o("hRO2"),n=r,a=Function("return this")(),i=o("MraH");n.object.extend(proto,i);var s=o("rlJ6");n.object.extend(proto,s),n.exportSymbol("proto.BackgroundTile",null,a),n.exportSymbol("proto.Board",null,a),n.exportSymbol("proto.ControlledMeeples",null,a),n.exportSymbol("proto.MangoGameAction",null,a),n.exportSymbol("proto.MangoGameAction.ActionCase",null,a),n.exportSymbol("proto.MangoGameState",null,a),n.exportSymbol("proto.MangoGameState.MangoState",null,a),n.exportSymbol("proto.MangoMove",null,a),n.exportSymbol("proto.MangoObject",null,a),n.exportSymbol("proto.Meeple",null,a),n.exportSymbol("proto.Position",null,a),n.exportSymbol("proto.Position.ObjectAtPosCase",null,a),n.exportSymbol("proto.Tile",null,a),proto.Tile=function(e){r.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.Tile,r.Message),n.DEBUG&&!COMPILED&&(proto.Tile.displayName="proto.Tile"),proto.Board=function(e){r.Message.initialize(this,e,0,-1,proto.Board.repeatedFields_,null)},n.inherits(proto.Board,r.Message),n.DEBUG&&!COMPILED&&(proto.Board.displayName="proto.Board"),proto.Position=function(e){r.Message.initialize(this,e,0,-1,null,proto.Position.oneofGroups_)},n.inherits(proto.Position,r.Message),n.DEBUG&&!COMPILED&&(proto.Position.displayName="proto.Position"),proto.ControlledMeeples=function(e){r.Message.initialize(this,e,0,-1,proto.ControlledMeeples.repeatedFields_,null)},n.inherits(proto.ControlledMeeples,r.Message),n.DEBUG&&!COMPILED&&(proto.ControlledMeeples.displayName="proto.ControlledMeeples"),proto.MangoGameState=function(e){r.Message.initialize(this,e,0,-1,proto.MangoGameState.repeatedFields_,null)},n.inherits(proto.MangoGameState,r.Message),n.DEBUG&&!COMPILED&&(proto.MangoGameState.displayName="proto.MangoGameState"),proto.MangoGameAction=function(e){r.Message.initialize(this,e,0,-1,null,proto.MangoGameAction.oneofGroups_)},n.inherits(proto.MangoGameAction,r.Message),n.DEBUG&&!COMPILED&&(proto.MangoGameAction.displayName="proto.MangoGameAction"),r.Message.GENERATE_TO_OBJECT&&(proto.Tile.prototype.toObject=function(e){return proto.Tile.toObject(e,this)},proto.Tile.toObject=function(e,t){var o={background:r.Message.getFieldWithDefault(t,1,0),walls:r.Message.getFieldWithDefault(t,2,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.Tile.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.Tile;return proto.Tile.deserializeBinaryFromReader(o,t)},proto.Tile.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setBackground(o);break;case 2:o=t.readInt32();e.setWalls(o);break;default:t.skipField()}}return e},proto.Tile.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.Tile.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Tile.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getBackground())&&t.writeEnum(1,o),0!==(o=e.getWalls())&&t.writeInt32(2,o)},proto.Tile.prototype.getBackground=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.Tile.prototype.setBackground=function(e){return r.Message.setProto3EnumField(this,1,e)},proto.Tile.prototype.getWalls=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.Tile.prototype.setWalls=function(e){return r.Message.setProto3IntField(this,2,e)},proto.Board.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.Board.prototype.toObject=function(e){return proto.Board.toObject(e,this)},proto.Board.toObject=function(e,t){var o={tilesList:r.Message.toObjectList(t.getTilesList(),proto.Tile.toObject,e),width:r.Message.getFieldWithDefault(t,2,0),height:r.Message.getFieldWithDefault(t,3,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.Board.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.Board;return proto.Board.deserializeBinaryFromReader(o,t)},proto.Board.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new proto.Tile;t.readMessage(o,proto.Tile.deserializeBinaryFromReader),e.addTiles(o);break;case 2:o=t.readInt32();e.setWidth(o);break;case 3:o=t.readInt32();e.setHeight(o);break;default:t.skipField()}}return e},proto.Board.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.Board.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Board.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getTilesList()).length>0&&t.writeRepeatedMessage(1,o,proto.Tile.serializeBinaryToWriter),0!==(o=e.getWidth())&&t.writeInt32(2,o),0!==(o=e.getHeight())&&t.writeInt32(3,o)},proto.Board.prototype.getTilesList=function(){return r.Message.getRepeatedWrapperField(this,proto.Tile,1)},proto.Board.prototype.setTilesList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.Board.prototype.addTiles=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.Tile,t)},proto.Board.prototype.clearTilesList=function(){return this.setTilesList([])},proto.Board.prototype.getWidth=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.Board.prototype.setWidth=function(e){return r.Message.setProto3IntField(this,2,e)},proto.Board.prototype.getHeight=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.Board.prototype.setHeight=function(e){return r.Message.setProto3IntField(this,3,e)},proto.Position.oneofGroups_=[[1,2]],proto.Position.ObjectAtPosCase={OBJECT_AT_POS_NOT_SET:0,MEEPLE:1,OBJECT:2},proto.Position.prototype.getObjectAtPosCase=function(){return r.Message.computeOneofCase(this,proto.Position.oneofGroups_[0])},r.Message.GENERATE_TO_OBJECT&&(proto.Position.prototype.toObject=function(e){return proto.Position.toObject(e,this)},proto.Position.toObject=function(e,t){var o,n={meeple:r.Message.getFieldWithDefault(t,1,0),object:r.Message.getFieldWithDefault(t,2,0),location:(o=t.getLocation())&&s.Coordinate.toObject(e,o),direction:r.Message.getFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.Position.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.Position;return proto.Position.deserializeBinaryFromReader(o,t)},proto.Position.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setMeeple(o);break;case 2:o=t.readEnum();e.setObject(o);break;case 3:o=new s.Coordinate;t.readMessage(o,s.Coordinate.deserializeBinaryFromReader),e.setLocation(o);break;case 4:o=t.readEnum();e.setDirection(o);break;default:t.skipField()}}return e},proto.Position.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.Position.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Position.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=r.Message.getField(e,1))&&t.writeEnum(1,o),null!=(o=r.Message.getField(e,2))&&t.writeEnum(2,o),null!=(o=e.getLocation())&&t.writeMessage(3,o,s.Coordinate.serializeBinaryToWriter),0!==(o=e.getDirection())&&t.writeEnum(4,o)},proto.Position.prototype.getMeeple=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.Position.prototype.setMeeple=function(e){return r.Message.setOneofField(this,1,proto.Position.oneofGroups_[0],e)},proto.Position.prototype.clearMeeple=function(){return r.Message.setOneofField(this,1,proto.Position.oneofGroups_[0],void 0)},proto.Position.prototype.hasMeeple=function(){return null!=r.Message.getField(this,1)},proto.Position.prototype.getObject=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.Position.prototype.setObject=function(e){return r.Message.setOneofField(this,2,proto.Position.oneofGroups_[0],e)},proto.Position.prototype.clearObject=function(){return r.Message.setOneofField(this,2,proto.Position.oneofGroups_[0],void 0)},proto.Position.prototype.hasObject=function(){return null!=r.Message.getField(this,2)},proto.Position.prototype.getLocation=function(){return r.Message.getWrapperField(this,s.Coordinate,3)},proto.Position.prototype.setLocation=function(e){return r.Message.setWrapperField(this,3,e)},proto.Position.prototype.clearLocation=function(){return this.setLocation(void 0)},proto.Position.prototype.hasLocation=function(){return null!=r.Message.getField(this,3)},proto.Position.prototype.getDirection=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.Position.prototype.setDirection=function(e){return r.Message.setProto3EnumField(this,4,e)},proto.ControlledMeeples.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.ControlledMeeples.prototype.toObject=function(e){return proto.ControlledMeeples.toObject(e,this)},proto.ControlledMeeples.toObject=function(e,t){var o,n={meeplesList:null==(o=r.Message.getRepeatedField(t,1))?void 0:o};return e&&(n.$jspbMessageInstance=t),n}),proto.ControlledMeeples.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.ControlledMeeples;return proto.ControlledMeeples.deserializeBinaryFromReader(o,t)},proto.ControlledMeeples.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readPackedEnum();e.setMeeplesList(o);break;default:t.skipField()}}return e},proto.ControlledMeeples.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ControlledMeeples.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ControlledMeeples.serializeBinaryToWriter=function(e,t){var o;(o=e.getMeeplesList()).length>0&&t.writePackedEnum(1,o)},proto.ControlledMeeples.prototype.getMeeplesList=function(){return r.Message.getRepeatedField(this,1)},proto.ControlledMeeples.prototype.setMeeplesList=function(e){return r.Message.setField(this,1,e||[])},proto.ControlledMeeples.prototype.addMeeples=function(e,t){return r.Message.addToRepeatedField(this,1,e,t)},proto.ControlledMeeples.prototype.clearMeeplesList=function(){return this.setMeeplesList([])},proto.MangoGameState.repeatedFields_=[5,6,7],r.Message.GENERATE_TO_OBJECT&&(proto.MangoGameState.prototype.toObject=function(e){return proto.MangoGameState.toObject(e,this)},proto.MangoGameState.toObject=function(e,t){var o,n={baseState:(o=t.getBaseState())&&i.GameState.toObject(e,o),state:r.Message.getFieldWithDefault(t,2,0),board:(o=t.getBoard())&&proto.Board.toObject(e,o),target:(o=t.getTarget())&&s.Coordinate.toObject(e,o),playerMeeplesList:r.Message.toObjectList(t.getPlayerMeeplesList(),proto.ControlledMeeples.toObject,e),meeplesList:r.Message.toObjectList(t.getMeeplesList(),proto.Position.toObject,e),objectsList:r.Message.toObjectList(t.getObjectsList(),proto.Position.toObject,e),moveTick:r.Message.getFieldWithDefault(t,9,0),move:r.Message.getFieldWithDefault(t,10,0),moveCount:r.Message.getFieldWithDefault(t,11,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.MangoGameState.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.MangoGameState;return proto.MangoGameState.deserializeBinaryFromReader(o,t)},proto.MangoGameState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new i.GameState;t.readMessage(o,i.GameState.deserializeBinaryFromReader),e.setBaseState(o);break;case 2:o=t.readEnum();e.setState(o);break;case 3:o=new proto.Board;t.readMessage(o,proto.Board.deserializeBinaryFromReader),e.setBoard(o);break;case 4:o=new s.Coordinate;t.readMessage(o,s.Coordinate.deserializeBinaryFromReader),e.setTarget(o);break;case 5:o=new proto.ControlledMeeples;t.readMessage(o,proto.ControlledMeeples.deserializeBinaryFromReader),e.addPlayerMeeples(o);break;case 6:o=new proto.Position;t.readMessage(o,proto.Position.deserializeBinaryFromReader),e.addMeeples(o);break;case 7:o=new proto.Position;t.readMessage(o,proto.Position.deserializeBinaryFromReader),e.addObjects(o);break;case 9:o=t.readInt32();e.setMoveTick(o);break;case 10:o=t.readEnum();e.setMove(o);break;case 11:o=t.readInt32();e.setMoveCount(o);break;default:t.skipField()}}return e},proto.MangoGameState.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.MangoGameState.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.MangoGameState.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getBaseState())&&t.writeMessage(1,o,i.GameState.serializeBinaryToWriter),0!==(o=e.getState())&&t.writeEnum(2,o),null!=(o=e.getBoard())&&t.writeMessage(3,o,proto.Board.serializeBinaryToWriter),null!=(o=e.getTarget())&&t.writeMessage(4,o,s.Coordinate.serializeBinaryToWriter),(o=e.getPlayerMeeplesList()).length>0&&t.writeRepeatedMessage(5,o,proto.ControlledMeeples.serializeBinaryToWriter),(o=e.getMeeplesList()).length>0&&t.writeRepeatedMessage(6,o,proto.Position.serializeBinaryToWriter),(o=e.getObjectsList()).length>0&&t.writeRepeatedMessage(7,o,proto.Position.serializeBinaryToWriter),0!==(o=e.getMoveTick())&&t.writeInt32(9,o),0!==(o=e.getMove())&&t.writeEnum(10,o),0!==(o=e.getMoveCount())&&t.writeInt32(11,o)},proto.MangoGameState.MangoState={WAITING_FOR_START:0,LEVEL_SELECT:1,PLAYING:2,MOVING:3,LEVEL_TRANSITION:4},proto.MangoGameState.prototype.getBaseState=function(){return r.Message.getWrapperField(this,i.GameState,1)},proto.MangoGameState.prototype.setBaseState=function(e){return r.Message.setWrapperField(this,1,e)},proto.MangoGameState.prototype.clearBaseState=function(){return this.setBaseState(void 0)},proto.MangoGameState.prototype.hasBaseState=function(){return null!=r.Message.getField(this,1)},proto.MangoGameState.prototype.getState=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.MangoGameState.prototype.setState=function(e){return r.Message.setProto3EnumField(this,2,e)},proto.MangoGameState.prototype.getBoard=function(){return r.Message.getWrapperField(this,proto.Board,3)},proto.MangoGameState.prototype.setBoard=function(e){return r.Message.setWrapperField(this,3,e)},proto.MangoGameState.prototype.clearBoard=function(){return this.setBoard(void 0)},proto.MangoGameState.prototype.hasBoard=function(){return null!=r.Message.getField(this,3)},proto.MangoGameState.prototype.getTarget=function(){return r.Message.getWrapperField(this,s.Coordinate,4)},proto.MangoGameState.prototype.setTarget=function(e){return r.Message.setWrapperField(this,4,e)},proto.MangoGameState.prototype.clearTarget=function(){return this.setTarget(void 0)},proto.MangoGameState.prototype.hasTarget=function(){return null!=r.Message.getField(this,4)},proto.MangoGameState.prototype.getPlayerMeeplesList=function(){return r.Message.getRepeatedWrapperField(this,proto.ControlledMeeples,5)},proto.MangoGameState.prototype.setPlayerMeeplesList=function(e){return r.Message.setRepeatedWrapperField(this,5,e)},proto.MangoGameState.prototype.addPlayerMeeples=function(e,t){return r.Message.addToRepeatedWrapperField(this,5,e,proto.ControlledMeeples,t)},proto.MangoGameState.prototype.clearPlayerMeeplesList=function(){return this.setPlayerMeeplesList([])},proto.MangoGameState.prototype.getMeeplesList=function(){return r.Message.getRepeatedWrapperField(this,proto.Position,6)},proto.MangoGameState.prototype.setMeeplesList=function(e){return r.Message.setRepeatedWrapperField(this,6,e)},proto.MangoGameState.prototype.addMeeples=function(e,t){return r.Message.addToRepeatedWrapperField(this,6,e,proto.Position,t)},proto.MangoGameState.prototype.clearMeeplesList=function(){return this.setMeeplesList([])},proto.MangoGameState.prototype.getObjectsList=function(){return r.Message.getRepeatedWrapperField(this,proto.Position,7)},proto.MangoGameState.prototype.setObjectsList=function(e){return r.Message.setRepeatedWrapperField(this,7,e)},proto.MangoGameState.prototype.addObjects=function(e,t){return r.Message.addToRepeatedWrapperField(this,7,e,proto.Position,t)},proto.MangoGameState.prototype.clearObjectsList=function(){return this.setObjectsList([])},proto.MangoGameState.prototype.getMoveTick=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.MangoGameState.prototype.setMoveTick=function(e){return r.Message.setProto3IntField(this,9,e)},proto.MangoGameState.prototype.getMove=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.MangoGameState.prototype.setMove=function(e){return r.Message.setProto3EnumField(this,10,e)},proto.MangoGameState.prototype.getMoveCount=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.MangoGameState.prototype.setMoveCount=function(e){return r.Message.setProto3IntField(this,11,e)},proto.MangoGameAction.oneofGroups_=[[4,5,6]],proto.MangoGameAction.ActionCase={ACTION_NOT_SET:0,RESET:4,SPECIAL:5,LEVEL:6},proto.MangoGameAction.prototype.getActionCase=function(){return r.Message.computeOneofCase(this,proto.MangoGameAction.oneofGroups_[0])},r.Message.GENERATE_TO_OBJECT&&(proto.MangoGameAction.prototype.toObject=function(e){return proto.MangoGameAction.toObject(e,this)},proto.MangoGameAction.toObject=function(e,t){var o,n={baseAction:(o=t.getBaseAction())&&i.GameAction.toObject(e,o),meeple:r.Message.getFieldWithDefault(t,2,0),move:r.Message.getFieldWithDefault(t,3,0),reset:r.Message.getBooleanFieldWithDefault(t,4,!1),special:r.Message.getFieldWithDefault(t,5,0),level:r.Message.getFieldWithDefault(t,6,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.MangoGameAction.deserializeBinary=function(e){var t=new r.BinaryReader(e),o=new proto.MangoGameAction;return proto.MangoGameAction.deserializeBinaryFromReader(o,t)},proto.MangoGameAction.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new i.GameAction;t.readMessage(o,i.GameAction.deserializeBinaryFromReader),e.setBaseAction(o);break;case 2:o=t.readEnum();e.setMeeple(o);break;case 3:o=t.readEnum();e.setMove(o);break;case 4:o=t.readBool();e.setReset(o);break;case 5:o=t.readEnum();e.setSpecial(o);break;case 6:o=t.readInt32();e.setLevel(o);break;default:t.skipField()}}return e},proto.MangoGameAction.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.MangoGameAction.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.MangoGameAction.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getBaseAction())&&t.writeMessage(1,o,i.GameAction.serializeBinaryToWriter),0!==(o=e.getMeeple())&&t.writeEnum(2,o),0!==(o=e.getMove())&&t.writeEnum(3,o),null!=(o=r.Message.getField(e,4))&&t.writeBool(4,o),null!=(o=r.Message.getField(e,5))&&t.writeEnum(5,o),null!=(o=r.Message.getField(e,6))&&t.writeInt32(6,o)},proto.MangoGameAction.prototype.getBaseAction=function(){return r.Message.getWrapperField(this,i.GameAction,1)},proto.MangoGameAction.prototype.setBaseAction=function(e){return r.Message.setWrapperField(this,1,e)},proto.MangoGameAction.prototype.clearBaseAction=function(){return this.setBaseAction(void 0)},proto.MangoGameAction.prototype.hasBaseAction=function(){return null!=r.Message.getField(this,1)},proto.MangoGameAction.prototype.getMeeple=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.MangoGameAction.prototype.setMeeple=function(e){return r.Message.setProto3EnumField(this,2,e)},proto.MangoGameAction.prototype.getMove=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.MangoGameAction.prototype.setMove=function(e){return r.Message.setProto3EnumField(this,3,e)},proto.MangoGameAction.prototype.getReset=function(){return r.Message.getBooleanFieldWithDefault(this,4,!1)},proto.MangoGameAction.prototype.setReset=function(e){return r.Message.setOneofField(this,4,proto.MangoGameAction.oneofGroups_[0],e)},proto.MangoGameAction.prototype.clearReset=function(){return r.Message.setOneofField(this,4,proto.MangoGameAction.oneofGroups_[0],void 0)},proto.MangoGameAction.prototype.hasReset=function(){return null!=r.Message.getField(this,4)},proto.MangoGameAction.prototype.getSpecial=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.MangoGameAction.prototype.setSpecial=function(e){return r.Message.setOneofField(this,5,proto.MangoGameAction.oneofGroups_[0],e)},proto.MangoGameAction.prototype.clearSpecial=function(){return r.Message.setOneofField(this,5,proto.MangoGameAction.oneofGroups_[0],void 0)},proto.MangoGameAction.prototype.hasSpecial=function(){return null!=r.Message.getField(this,5)},proto.MangoGameAction.prototype.getLevel=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.MangoGameAction.prototype.setLevel=function(e){return r.Message.setOneofField(this,6,proto.MangoGameAction.oneofGroups_[0],e)},proto.MangoGameAction.prototype.clearLevel=function(){return r.Message.setOneofField(this,6,proto.MangoGameAction.oneofGroups_[0],void 0)},proto.MangoGameAction.prototype.hasLevel=function(){return null!=r.Message.getField(this,6)},proto.MangoMove={MOVE_NONE:0,MOVE_FLAMETHROWER:1,MOVE_WRAP:2,MOVE_SURF:3,MOVE_SPLASH:4,MOVE_STRENGTH:5,MOVE_MIMIC:6},proto.BackgroundTile={ICE:0,WATER:1},proto.Meeple={UNKNOWN_MEEPLE:0,TAN_MEEPLE1:1,TAN_MEEPLE2:2,TAN_MEEPLE3:3,TAN_MEEPLE4:4,TAN_MEEPLE5:5,TAN_MEEPLE6:6,RED_MEEPLE:7,PURPLE_MEEPLE:8,BLUE_MEEPLE:9,PINK_MEEPLE:10,ORANGE_MEEPLE:11,BROWN_MEEPLE:12},proto.MangoObject={NO_OBJECT:0,ICE_BLOCK:1},n.object.extend(t,proto)}}]);