_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[65],{FOry:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return M}));var a=n("MX0m"),r=n.n(a),c=n("q1tI"),i=n.n(c),o=n("xqwj"),s=n("Jcky"),A=n("qTru"),u=n("KQm4"),l=n("ODXe"),m=n("wx14"),f=n("Ff2n"),g=n("oRUw"),w=i.a.createElement,d=Math.pow(3,3),b=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=a-10,i=(n-c)/(a-c);return r?e+(t-e)*i:1/(1/e*(1-i)+i*(1/t))},x=function(e){var t=e.imageUrl,n=e.position,a=e.zoom,o=Object(f.a)(e,["imageUrl","position","zoom"]),s=Object(c.useRef)(null),A=Object(c.useRef)(0),u=Object(c.useRef)(null),x=Object(c.useRef)(a),h=Object(c.useRef)(n),E=Object(c.useState)(!0),j=E[0],p=E[1],Y=Object(c.useState)(0),M=Y[0],v=Y[1],B=Object(c.useState)(!0),O=B[0],R=B[1];Object(c.useEffect)((function(){var e=s.current;e.width=e.offsetWidth-4,e.height=e.offsetHeight-4,e.getContext("2d").imageSmoothingQuality="high",p(!0),u.current.src=t,u.current.onload=function(){p(!1)}}),[t]),Object(c.useEffect)((function(){1!==a&&R(!1),v(A.current+10),setTimeout((function(){h.current=n,x.current=a,1===a&&R(!0)}),1e3)}),[n,a]);return Object(g.a)((function(e){if(s.current&&!j&&!(e>=M)){var t=s.current.width,r=s.current.height,c=function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1];return[6480/t*(a/(d/t)),6480/t*(r/(d/t))]},i=s.current.getContext("2d");i.clearRect(0,0,t,r);var o=a,A=x.current,m=b(A,o,e,M),f=c(n,a),g=c(h.current,x.current),w=[b(g[0],f[0],e,M,!0),b(g[1],f[1],e,M,!0)];i.drawImage(u.current,w[0],w[1],6480/m,6480/m,0,0,t,r)}}),A,[M,n,a]),w(i.a.Fragment,null,w("canvas",Object(m.a)({ref:s},o,{className:"jsx-2174106697 "+(o&&null!=o.className&&o.className||"")})),w("img",{ref:u,src:t,alt:"",className:"jsx-2174106697 "+((O?"":"hidden")||"")}),w(r.a,{id:"2174106697"},["canvas.jsx-2174106697,img.jsx-2174106697{position:absolute;bottom:0;top:0;left:0;right:0;width:100%;height:100%;}","img.jsx-2174106697{width:101%;height:101%;}","img.hidden.jsx-2174106697{display:none;}"]))},h=function(e){return w("div",Object(m.a)({},e,{className:"jsx-903557775 "+(e&&null!=e.className&&e.className||"")}),w(r.a,{id:"903557775"},["div.jsx-903557775{background-color:transparent;border:none;height:33%;width:33%;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;z-index:1;margin:1px 1px 0 0;}","div.jsx-903557775:hover{background-color:rgba(0,0,0,0.15);cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in;}"]))},E=function(e){var t=e.imageUrl,n=Object(c.useState)(1),a=n[0],i=n[1],o=Object(c.useState)([0,0]),s=o[0],A=o[1],l=Object(c.useState)([]),m=l[0],f=l[1],g=Object(c.useState)(!1),b=g[0],E=g[1],j=Object(c.useRef)(null);Object(c.useEffect)((function(){var e=function(e){return e.preventDefault()};return j.current&&j.current.addEventListener("wheel",e),function(){j.current&&j.current.removeEventListener("wheel",e)}}),[j]),Object(c.useEffect)((function(){E(!1),setTimeout((function(){return E(!0)}),1e3)}),[a]);var p=a<d,Y=a>1,M=function(e){if(b&&p){E(!1);var t=Math.floor(e/3),n=e%3;i(3*a),A([s[0]+n*(d/a/3),s[1]+t*(d/a/3)]),f([].concat(Object(u.a)(m),[s]))}},v=function(){b&&Y&&(E(!1),i(a/3),A(m[m.length-1]),f(m.slice(0,m.length-1)))},B=function(e){v(),e.preventDefault()};return w("div",{className:r.a.dynamic([["4138834786",[4,4]]])+" flex"},w("div",{ref:j,className:r.a.dynamic([["4138834786",[4,4]]])+" container flex"},w(x,{imageUrl:t,zoom:a,position:s}),[0,1,2,3,4,5,6,7,8].map((function(e){return w(h,{key:e,onClick:function(){return function(e){M(e)}(e)},onContextMenu:B,onWheel:function(t){t.deltaY>0?v():M(e),t.preventDefault(),t.nativeEvent.stopImmediatePropagation()}})}))),w(r.a,{id:"4138834786",dynamic:[4,4]},[".flex.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}",".container.__jsx-style-dynamic-selector{border:2px solid black;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:hidden;position:relative;width:calc(88vh + ".concat(4,"px);height:calc(88vh + ").concat(4,"px);}")]))},j=n("OnG7"),p=n.n(j),Y=i.a.createElement,M=!0;t.default=function(e){var t=e.puzzleData;return Y(i.a.Fragment,null,Y(s.a,{title:"Three-in-a-Row",slug:"three-in-a-row",puzzleData:t},Y("div",{className:"jsx-3103603814 letter"},Y("p",{className:"jsx-3103603814"},"To my dear Matt and Emma,"),Y("p",{className:"jsx-3103603814"},"For your birthday, let's play a series of games to win your present!",Y("br",{className:"jsx-3103603814"}),"Attached is a map, but you'll need to find the directions first. We know you'll play optimally!"),Y("p",{className:"jsx-3103603814"},"XOXOXO,",Y("br",{className:"jsx-3103603814"}),"Xyla & Xiaoming"))),Y(A.a,null,Y("div",{className:"jsx-3103603814 map"},Y("img",{src:n("pUR2"),className:"jsx-3103603814"}),Y(E,{imageUrl:p.a}),Y("div",{className:"jsx-3103603814 instructions"},Y(o.a,null,"Left-click to zoom in, right-click to zoom out.",Y("br",{className:"jsx-3103603814"}),"Scroll wheel enabled.")))),Y(r.a,{id:"3103603814"},[".letter.jsx-3103603814{margin:20px 0 100px;}",".map.jsx-3103603814{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}","img.jsx-3103603814{margin:0 48px 4px 0;width:88vh;}",".instructions.jsx-3103603814{margin-top:20px;}"]))}},OnG7:function(e,t){e.exports="/_next/static/assets/assets/puzzle/three-in-a-row/cdfa14d3f8b59001d748d04d7017e473.png"},oRUw:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),r=function(e,t,n){var r=Object(a.useRef)(),c=Object(a.useRef)(),i=function n(a){if(void 0!==c.current){var i=a-c.current;t.current+=i/100,e(t.current)}c.current=a,r.current=requestAnimationFrame(n)};Object(a.useEffect)((function(){return r.current=requestAnimationFrame(i),function(){return cancelAnimationFrame(r.current)}}),[n])}},pUR2:function(e,t){e.exports="data:image/png;base64,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"},uLMY:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/puzzles/three-in-a-row",function(){return n("FOry")}])}},[["uLMY",1,0,2,3,4,5,6,7,8]]]);