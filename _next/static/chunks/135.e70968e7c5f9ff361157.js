(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[135],{"0icU":function(e,t,o){"use strict";o.r(t);var i,r,n,a=o("KQm4"),s=o("rePB"),c=o("MX0m"),l=o.n(c),p=o("q1tI"),h=o.n(p),u=o("b5m6"),g=o("zIMB"),d=o("lnsZ"),m=o("VdYi"),y=o("MraH"),f=o("rlJ6"),O=o("1qJS"),M=o("eG5I"),b=o("oRUw"),S=o("ZQts"),G=o("+dTV"),P=h.a.createElement,T=m.GhostPepperGameState.GhostPepperState,E=[{src:"puzzle/ghostpepper/sfx",sprite:{correct:[0,1219],incorrect:[1219,354],death:[1573,4990],live:[6563,731]}},{src:"puzzle/ghostpepper/bgm",sprite:{full:[0,76862],loop:[261,76601]},onend:function(){this.play("loop")}}],x=(i={},Object(s.a)(i,y.PlayerColor.RED,"Barbie"),Object(s.a)(i,y.PlayerColor.BLUE,"Ken"),Object(s.a)(i,y.PlayerColor.GREEN,"Midge"),Object(s.a)(i,y.PlayerColor.YELLOW,"Ryan"),Object(s.a)(i,y.PlayerColor.ORANGE,"Stacie"),Object(s.a)(i,y.PlayerColor.INDIGO,"Tawny"),i),w=(r={},Object(s.a)(r,m.Doll.UNKNOWN_DOLL,""),Object(s.a)(r,m.Doll.BARBIE,"barbie"),Object(s.a)(r,m.Doll.KEN,"ken"),Object(s.a)(r,m.Doll.MIDGE,"midge"),Object(s.a)(r,m.Doll.RYAN,"ryan"),Object(s.a)(r,m.Doll.STACIE,"stacie"),Object(s.a)(r,m.Doll.TAWNY,"tawny"),r),N=(n={},Object(s.a)(n,m.OmenType.UNKNOWN_OMEN,""),Object(s.a)(n,m.OmenType.MATH,"Spirit of Algebra"),Object(s.a)(n,m.OmenType.MEMORY,"Brain-hungry Zombie"),Object(s.a)(n,m.OmenType.ANAGRAMS,"Discombobulated Contraption"),Object(s.a)(n,m.OmenType.PIGPEN,"Reanimated Hog"),Object(s.a)(n,m.OmenType.PASSCODE,"Spooky Cryptex"),Object(s.a)(n,m.OmenType.VERBAL_MEMORY,"Experimental Horror"),n),_=function(e,t,o){var i=t.getTilesList().find((function(t){return Object(O.c)(t.getPosition(),e.getPosition())}));return!!i&&function(e,t){var o,i=(o={},Object(s.a)(o,f.Direction.DIRECTION_NONE,0),Object(s.a)(o,f.Direction.UP,0),Object(s.a)(o,f.Direction.RIGHT,1),Object(s.a)(o,f.Direction.DOWN,2),Object(s.a)(o,f.Direction.LEFT,3),o);return(e.getDoors()>>i[t])%2===1}(i,o)},A=function(e,t){return Math.min(t.width/(e.getWidth()+1),t.height/(e.getHeight()+1))},B=function(e,t,o){var i,r,n=A(t,o);return[(null!==(i=null===e||void 0===e?void 0:e.getX())&&void 0!==i?i:0)*n+(o.width-n*t.getWidth())/2,(null!==(r=null===e||void 0===e?void 0:e.getY())&&void 0!==r?r:0)*n+(o.height-n*t.getHeight())/2]},v=function(e,t,o,i,r,n,a){var s,c,l=A(t,n),p=B(o.getPosition(),t,n);o.getDoll();e.drawImage(i,200*r,0,200,200,null!==(s=null===a||void 0===a?void 0:a[0])&&void 0!==s?s:p[0]+l/5*(r%3+1),null!==(c=null===a||void 0===a?void 0:a[1])&&void 0!==c?c:p[1]+(Math.floor(r/3)+1)*(l/4),l/4,l/4)},j=P("style",{jsx:!0},"\n    @font-face {\n      font-family: 'Pigpen Cipher';\n      src: url(".concat(u.default,");\n    }\n\n    .pigpen {\n      font-family: 'Pigpen Cipher';\n    }\n  ")),F=function(e){var t=e.omenMinigame,o=e.omenType,i=e.currentTurn,r=e.isCurrentTurn,n=e.onInput,a=e.screenDimensions,s=e.sounds,c=e.timer,u=Object(p.useRef)(null),g=Object(p.useState)(""),d=g[0],y=g[1],f=Object(p.useState)(!1),O=f[0],M=f[1],b=Object(p.useState)(0),S=b[0],G=b[1],T=t.getInput();Object(p.useEffect)((function(){var e;y(T||""),null===(e=u.current)||void 0===e||e.focus()}),[T]);var E=t.getQuestion(),w=t.getAnswer(),N=t.getThreshold(),_=t.getScore(),A=t.getOptionsList(),B=!O&&!!E&&!!(null===A||void 0===A?void 0:A.length),v=o!==m.OmenType.MEMORY&&o!==m.OmenType.PASSCODE||w;Object(p.useEffect)((function(){if(o===m.OmenType.MEMORY)M(!0),y("0".repeat(E.length)),window.setTimeout((function(){M(!1)}),5e3);else if(o===m.OmenType.VERBAL_MEMORY&&E){M(!0);for(var e=E.split(",").length,t=function(e){window.setTimeout((function(){G(e)}),1e3*e)},i=1;i<e;i++)t(i);window.setTimeout((function(){M(!1),G(0)}),1e3*(e+1))}}),[o]),Object(p.useEffect)((function(){if((o===m.OmenType.MATH||o===m.OmenType.PIGPEN||o===m.OmenType.VERBAL_MEMORY)&&B&&w){var e=w===A[t.getSelectedIndex()];s["puzzle/ghostpepper/sfx"].play(e?"correct":"incorrect")}}),[w]),Object(p.useEffect)((function(){if(!E){var e=_>N;s["puzzle/ghostpepper/sfx"].play(e?"live":"death")}}),[N]);var F=function(e){return o===m.OmenType.MEMORY?"".concat(e,"%"):e};return P("div",{key:"minigame",className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" minigame abs-center flex-center"},!N&&P("div",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" timer"},!O&&P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},c),v&&P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},"Score: ",F(_))),E&&o===m.OmenType.MEMORY?P(h.a.Fragment,null,P("div",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" memory-container flex-center"},P("div",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" memory-grid"},(O?E:w||d).split("").map((function(e,t){return P("button",{key:"cell-".concat(t),disabled:O||!!w||!r,onClick:function(){var e="1"===d.charAt(t)?"0":"1",o=d.substr(0,t)+e+d.substring(t+1);y(o),n(o)},className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" "+"cell".concat("1"===e?" bg-red":"").concat(w&&w[t]!==d[t]?" wrong":"")})})))),P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},w?"The correct pattern is...":O?"Memorize the pattern of blood":"Reproduce the pattern")):E?P(h.a.Fragment,null,o===m.OmenType.VERBAL_MEMORY&&O?P(h.a.Fragment,null,P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},"Memorize these words!"),P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},E.split(",")[S])):P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},"Q:"," ",o===m.OmenType.VERBAL_MEMORY?"Which words did you see?":E),P("div",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" options"},B&&o!==m.OmenType.PASSCODE?A.map((function(e,i){return P("button",{key:"option-".concat(i),onClick:function(){return n(e)},disabled:!!w||!r,className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" "+"".concat(w&&t.getSelectedIndex()===i?"selected":"").concat(w===e?" correct green":w?" incorrect red":"").concat(o===m.OmenType.PIGPEN?" pigpen":"")},o===m.OmenType.PIGPEN?e.split("").map((function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map((function(t){return P("span",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" "+((e===t?"hydden":"hidden")||"")},t)}))})):e)})):o!==m.OmenType.VERBAL_MEMORY&&P("form",{onSubmit:function(e){n(d),e.preventDefault()},className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" flex-center"},P("input",{type:"text",key:"input",ref:u,disabled:!!w||!r,onChange:function(e){var t=e.target.value;o===m.OmenType.PASSCODE?y(t.substring(0,7)):y(t)},value:w&&o===m.OmenType.PASSCODE?"":d,className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" "+((d&&w===d?"correct green":w?"incorrect red":"")||"")}),o===m.OmenType.PASSCODE&&P(h.a.Fragment,null,w&&P("span",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" lines"},d.split("").map((function(e,t){return e===w.charAt(t)?P("span",{key:"answer-".concat(t),className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" correct green"},e):P("span",{key:"wrong-".concat(t),className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" incorrect red"},e)}))),P("span",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" lines"},"_______")),r&&P("button",{type:"submit",disabled:!!w||!d,className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},"Submit")),B&&o===m.OmenType.PASSCODE&&P("ol",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" rules"},A.map((function(e,t){return P("li",{key:"option-".concat(t),className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},e)}))))):N?P("div",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" threshold"},P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},x[i],"'s score: ",F(_)),P("h3",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},"Raquelle","'s score: ",F(N)),P("h1",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])},_>N?"".concat(x[i]," has survived to live another day."):P(h.a.Fragment,null,x[i]," has"," ",P("span",{className:l.a.dynamic([["414543685",[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]]])+" red"},"PERISHED"),"."))):null,P(l.a,{id:"414543685",dynamic:[.8*a.height,.8*a.width,o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",.1*a.height,.6*a.height,.6*a.height,a.height/10-2,a.height/10-2,a.height/10-2]},[".minigame.__jsx-style-dynamic-selector{color:#fff;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:".concat(.8*a.height,"px;width:").concat(.8*a.width,"px;padding:2vmin;text-align:center;}"),".timer.__jsx-style-dynamic-selector{position:absolute;top:0;right:20px;}",".options.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:8px;}","button.__jsx-style-dynamic-selector{background:none;border:none;color:#fff;font-size:24px;padding:4px 12px;min-width:20%;}","button.selected.__jsx-style-dynamic-selector{background-color:rgba(255,255,255,0.3);}","form.__jsx-style-dynamic-selector{position:relative;}","input.__jsx-style-dynamic-selector,.lines.__jsx-style-dynamic-selector{font-family:monospace;font-size:24px;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;padding:4px 8px;}","input.__jsx-style-dynamic-selector{max-width:".concat(o===m.OmenType.PASSCODE?"calc(7ch + 42px)":"calc(15ch + 60px)",";}"),".lines.__jsx-style-dynamic-selector{position:absolute;text-align:left;left:0;top:0;right:0;bottom:0;color:#000;}","button.correct.__jsx-style-dynamic-selector,input.correct.__jsx-style-dynamic-selector{color:#393;}","button.incorrect.__jsx-style-dynamic-selector,input.incorrect.__jsx-style-dynamic-selector{-webkit-text-decoration:line-through;text-decoration:line-through;color:#c33;}",".memory-container.__jsx-style-dynamic-selector{-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding-top:".concat(.1*a.height,"px;width:100%;}"),".memory-grid.__jsx-style-dynamic-selector{border:4px solid brown;width:".concat(.6*a.height,"px;height:").concat(.6*a.height,"px;}"),".memory-grid.__jsx-style-dynamic-selector .cell.__jsx-style-dynamic-selector{border:1px solid black;border-radius:0;display:inline-block;width:".concat(a.height/10-2,"px;height:").concat(a.height/10-2,"px;min-width:").concat(a.height/10-2,"px;}"),".cell.bg-red.__jsx-style-dynamic-selector{background-color:#c33;}",".memory-grid.__jsx-style-dynamic-selector .cell.wrong.__jsx-style-dynamic-selector{background:repeating-linear-gradient( 45deg, #000, #000 10px, #333 10px, #333 20px );}",".memory-grid.__jsx-style-dynamic-selector .cell.wrong.bg-red.__jsx-style-dynamic-selector{background:repeating-linear-gradient( 45deg, #c33, #c33 10px, #a00 10px, #a00 20px );}",".rules.__jsx-style-dynamic-selector{text-align:left;}",".rules.__jsx-style-dynamic-selector li.__jsx-style-dynamic-selector{margin:4px 0;}"]),j)};t.default={Game:function(e){var t,o,i,r,n,s=e.canvasRef,c=e.gameState,u=e.isConnected,f=e.setLoading,C=e.currentPlayer,I=e.sendMessage,W=e.restartGame,R=e.screenDimensions,D=Object(p.useState)(!1),k=D[0],H=D[1],L=Object(p.useState)(null),z=L[0],V=L[1],U=Object(p.useState)([]),Y=U[0],K=U[1],q=Object(p.useState)(null),J=q[0],Q=q[1],$=Object(p.useState)(!1),Z=$[0],X=$[1],ee=Object(p.useState)(m.OmenType.UNKNOWN_OMEN),te=ee[0],oe=ee[1],ie=Object(p.useState)(""),re=ie[0],ne=ie[1],ae=Object(p.useState)(null),se=ae[0],ce=ae[1],le=Object(p.useState)(0),pe=le[0],he=le[1],ue=Object(p.useState)(0),ge=ue[0],de=ue[1],me=Object(p.useState)(!1),ye=me[0],fe=me[1],Oe=Object(S.b)("puzzle/ghostpepper/",["players","tile","title","crow"].concat(Object(a.a)(Object.values(w).filter((function(e){return e}))))),Me=Oe.isLoading,be=Oe.images,Se=Object(S.c)("",[].concat(E,[S.a,M.a])),Ge=Se.isLoading,Pe=Se.sounds;Object(p.useEffect)((function(){Me||Ge||f(!1)}),[Me,Ge]);var Te=Object(p.useRef)(null),Ee=Object(p.useRef)(0),xe=Object(M.g)(pe-Ee.current,10,!Me&&!Ge&&(null===(t=Te.current)||void 0===t?void 0:t.getState())!==T.GAME_WIN&&null!==se,{tickSfx:Pe["public/tick"]});Object(p.useEffect)((function(){null!==J&&(X(!0),window.setTimeout((function(){X(!1)}),2e3))}),[J,ge]),Object(p.useEffect)((function(){te&&(ne(N[te]),window.setTimeout((function(){ne("")}),2e3))}),[te]),Object(G.b)("keyup",(function(e){var t,o=O.a[e],i=null===J?null:Y[J];if((null===(t=Te.current)||void 0===t?void 0:t.getState())===T.MOVING&&C===J&&z&&o&&i&&_(i,z,o)){var r=new m.GhostPepperGameAction;r.setMove(o),I(r)}}),window,[]);var we=function(){var e=new m.GhostPepperGameAction,t=new y.GameAction;t.setAction(y.Action.START_GAME),e.setBaseAction(t),I(e),H(!0),Pe["public/mainsfx"].play("select")};Object(p.useEffect)((function(){var e,t;if(Te.current=c,Ee.current=null!==(e=null===c||void 0===c?void 0:c.getBaseState().getTick())&&void 0!==e?e:0,c&&u&&!Me&&!ye){if(Object(O.e)(c))return Pe["public/mainsfx"].play(c.getBaseState().getStatus()===y.GameStatus.COMPLETE_WIN?"win":"loss"),Pe["puzzle/ghostpepper/bgm"].fade(1,0,1e3),void fe(!0);var o=c.getPlayersList();switch(c.getState()){case T.WAITING_FOR_START:break;case T.GAME_WIN:case T.MOVING:var i=c.getBoard();i&&i!==z&&V(i);var r,n=null!==(t=c.getTurnCount())&&void 0!==t?t:0;if(n!==ge)1===n&&Pe["puzzle/ghostpepper/bgm"].play("full"),de(n),Q(null!==(r=c.getCurrentTurn())&&void 0!==r?r:y.PlayerColor.RED),ce(null),he(0),oe(m.OmenType.UNKNOWN_OMEN);o.length&&K(o);break;case T.OMEN:o.length&&K(o);var a=c.getCurrentOmen();a&&a!==te&&oe(a);var s=c.getOmenMinigame();!s||se&&se.getSelectedIndex()===s.getSelectedIndex()&&se.getScore()===s.getScore()&&se.getInput()===s.getInput()&&se.getAnswer()===s.getAnswer()&&se.getThreshold()===s.getThreshold()||(he(c.getOmenEndTick()),ce(s))}}}),[c]);Object(b.a)((function(e){var t,o;if(!(Me||Ge||Object(O.e)(Te.current))){var i=s.current.getContext("2d");i.clearRect(0,0,R.width,R.height);var r=null!==(t=null===(o=Te.current)||void 0===o?void 0:o.getState())&&void 0!==t?t:T.WAITING_FOR_START;r===T.WAITING_FOR_START?function(e,t,o){e.drawImage(t,0,0,o.width,o.height)}(i,be.title,R):!z||r!==T.MOVING&&r!==T.GAME_WIN||(!function(e,t,o,i,r){t.getWidth(),t.getHeight();var n=A(t,r);t.getTilesList().forEach((function(a){var s=B(a.getPosition(),t,r),c=a.getRoom()===m.RoomTile.ENTRANCE_HALL,l=a.getRoom()-1;e.save(),a.getVisible()||(e.filter="brightness(1%)"),e.drawImage(o,200*l,0,200,c?237:200,s[0],s[1],n,c?237*n/200:n),c||(e.filter=a.getOmenSolved()?"grayscale(1) opacity(0.5)":"",e.drawImage(i,s[0]+n/12,s[1]+9*n/12,n/6,n/6)),e.restore()}))}(i,z,be.tile,be.crow,R),Y.forEach((function(e,t){if(e.getIsDead()||v(i,z,e,be.players,t,R),t===C){var o=A(z,R);v(i,z,e,be.players,C,R,[R.width-o/4-16,R.height-o/4-16])}})))}}),Ee,[z,Y]);var Ne=null!==(o=null===c||void 0===c?void 0:c.getState())&&void 0!==o?o:T.WAITING_FOR_START,_e=null!==(i=null===c||void 0===c?void 0:c.getBaseState().getStatus())&&void 0!==i?i:y.GameStatus.WAITING_FOR_START,Ae=null!==(r=null===c||void 0===c?void 0:c.getBaseState().getPlayersList())&&void 0!==r?r:[],Be=null!==(n=null===c||void 0===c?void 0:c.getBaseState().getTick())&&void 0!==n?n:0;if(Me||Ge)return P("div",{className:"message abs-center white"},"Haunting houses...");z&&A(z,R);var ve={styles:P(l.a,{id:"1754449572"},["div.jsx-1754449572{color:#fff;top:75%;}"]),className:"jsx-1754449572"},je=ve.className,Fe=ve.styles;return P(h.a.Fragment,null,ye?P(h.a.Fragment,null,P("div",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" winLose message center"},P("span",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"GAME ",_e===y.GameStatus.COMPLETE_LOSS?"OVER":"COMPLETE")),P("div",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" bottom message center"},P("button",{onClick:function(){Object(O.e)(Te.current)&&(Pe["public/mainsfx"].play("select"),H(!1),de(0),Q(null),ce(null),he(0),oe(m.OmenType.UNKNOWN_OMEN),fe(!1),Te.current=null,Ee.current=0,s.current.getContext("2d").clearRect(0,0,R.width,R.height),W())},className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" menu-button"},"Back to lobby"))):Ne===T.WAITING_FOR_START&&0===Be?P(d.a,{playerStarted:k,isConnected:u,players:Ae,currentPlayer:C,playerSprite:{url:be.players.src,width:R.width/10,height:R.width/10},startButton:P("button",{onClick:we,className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" menu-button"},"Ready to start"),confirmButton:P("button",{onClick:we,className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" menu-button"},"Start game"),rejoinButton:P("button",{onClick:W,className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" menu-button"},"Rejoin lobby"),className:je}):Ne>=T.MOVING&&P(h.a.Fragment,null,P("span",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" pigpen"}),P(g.a,{name:"ui-fade"},Ne===T.OMEN&&P("div",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" ui players"},Y.map((function(e,t){return P("img",{key:"player-".concat(t),src:be[w[e.getDoll()]].src,className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" "+((e.getIsDead()?"dead":"")||"")})}))),Z&&null!==J&&P("div",{key:"turn-indicator",className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" ui abs-center banner"},P("h1",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Turn ",ge,": ",x[J],"'s turn!")),re&&P("div",{key:"omen",className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" ui abs-center banner"},P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},P("img",{alt:"Crow",src:be.crow.src,className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" crow"}),"Omen found!"),P("h1",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},re),P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},x[J]," vs. ","Raquelle")),Ne===T.GAME_WIN&&P("div",{key:"win-text",className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" ui abs-center banner"},P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Item found!"),P("h1",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Front door key obtained"),P("p",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"With a scream, the traitor Raquelle launches herself at you, but you manage to slip away. Clutching the key to the front door, you turn the lock and stumble outside, leaving behind the dark, dark omens..."),P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"YOU HAVE ESCAPED THE MANSION.")),Ne!==T.GAME_WIN&&se&&P(F,{omenMinigame:se,omenType:te,currentTurn:J,isCurrentTurn:C===J,onInput:function(e){var t=new m.GhostPepperGameAction;t.setInput(e),I(t),Pe["public/mainsfx"].play("select")},screenDimensions:R,sounds:Pe,timer:xe})),P("div",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])+" ui turn-count"},P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Turn: ",ge),null!==J&&P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Current player: ",x[J],J===C?" (you)":""),Ne===T.MOVING&&!ye&&P("h3",{className:l.a.dynamic([["973716304",[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]]])},"Arrow keys/WASD to move"))),P(l.a,{id:"973716304",dynamic:[_e===y.GameStatus.COMPLETE_WIN?"green":"red",R.width/8]},[".center.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;position:absolute;left:0;right:0;top:50%;text-align:center;}",".bottom.__jsx-style-dynamic-selector{top:80%;}",".message.__jsx-style-dynamic-selector{color:#fff;pointer-events:none;font-size:25px;}",".winLose.message.__jsx-style-dynamic-selector{color:".concat(_e===y.GameStatus.COMPLETE_WIN?"green":"red",";font-size:50px;top:20%;}"),".ui.__jsx-style-dynamic-selector{position:absolute;color:#fff;}","h1.__jsx-style-dynamic-selector,h3.__jsx-style-dynamic-selector{margin:4px 0;}",".crow.__jsx-style-dynamic-selector{margin-right:8px;width:60px;}",".turn-count.__jsx-style-dynamic-selector{bottom:20px;left:20px;}",".turn-count.__jsx-style-dynamic-selector h3.__jsx-style-dynamic-selector{font-size:2.5vmin;margin:4px 0;}",".menu-button.__jsx-style-dynamic-selector{background:transparent;border:none;color:red;font-size:24px;font-weight:bold;height:32px;padding:0;}",".menu-button.__jsx-style-dynamic-selector:hover{font-size:26px;}",".banner.__jsx-style-dynamic-selector{background:rgba(255,255,255,0.75);color:#000;padding:8px;text-align:center;width:100%;}",".players.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}",".players.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{width:".concat(R.width/8,"px;margin-right:12px;-webkit-transition:opacity filter 300ms ease-in-out;transition:opacity filter 300ms ease-in-out;}"),".players.__jsx-style-dynamic-selector img.dead.__jsx-style-dynamic-selector{opacity:60%;-webkit-filter:grayscale(1);filter:grayscale(1);}"]),Fe,j)},State:m.GhostPepperGameState}},VdYi:function(e,t,o){var i=o("hRO2"),r=i,n=Function("return this")(),a=o("MraH");r.object.extend(proto,a);var s=o("rlJ6");r.object.extend(proto,s),r.exportSymbol("proto.Doll",null,n),r.exportSymbol("proto.GhostPepperGameAction",null,n),r.exportSymbol("proto.GhostPepperGameAction.ActionCase",null,n),r.exportSymbol("proto.GhostPepperGameState",null,n),r.exportSymbol("proto.GhostPepperGameState.GhostPepperState",null,n),r.exportSymbol("proto.HouseBoard",null,n),r.exportSymbol("proto.HousePlayer",null,n),r.exportSymbol("proto.HouseTile",null,n),r.exportSymbol("proto.OmenMinigame",null,n),r.exportSymbol("proto.OmenMinigame.OptionChoice",null,n),r.exportSymbol("proto.OmenType",null,n),r.exportSymbol("proto.RoomTile",null,n),proto.HouseTile=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.HouseTile,i.Message),r.DEBUG&&!COMPILED&&(proto.HouseTile.displayName="proto.HouseTile"),proto.HousePlayer=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.HousePlayer,i.Message),r.DEBUG&&!COMPILED&&(proto.HousePlayer.displayName="proto.HousePlayer"),proto.HouseBoard=function(e){i.Message.initialize(this,e,0,-1,proto.HouseBoard.repeatedFields_,null)},r.inherits(proto.HouseBoard,i.Message),r.DEBUG&&!COMPILED&&(proto.HouseBoard.displayName="proto.HouseBoard"),proto.OmenMinigame=function(e){i.Message.initialize(this,e,0,-1,proto.OmenMinigame.repeatedFields_,null)},r.inherits(proto.OmenMinigame,i.Message),r.DEBUG&&!COMPILED&&(proto.OmenMinigame.displayName="proto.OmenMinigame"),proto.GhostPepperGameState=function(e){i.Message.initialize(this,e,0,-1,proto.GhostPepperGameState.repeatedFields_,null)},r.inherits(proto.GhostPepperGameState,i.Message),r.DEBUG&&!COMPILED&&(proto.GhostPepperGameState.displayName="proto.GhostPepperGameState"),proto.GhostPepperGameAction=function(e){i.Message.initialize(this,e,0,-1,null,proto.GhostPepperGameAction.oneofGroups_)},r.inherits(proto.GhostPepperGameAction,i.Message),r.DEBUG&&!COMPILED&&(proto.GhostPepperGameAction.displayName="proto.GhostPepperGameAction"),i.Message.GENERATE_TO_OBJECT&&(proto.HouseTile.prototype.toObject=function(e){return proto.HouseTile.toObject(e,this)},proto.HouseTile.toObject=function(e,t){var o,r={room:i.Message.getFieldWithDefault(t,1,0),position:(o=t.getPosition())&&s.Coordinate.toObject(e,o),doors:i.Message.getFieldWithDefault(t,3,0),visible:i.Message.getBooleanFieldWithDefault(t,4,!1),omenSolved:i.Message.getBooleanFieldWithDefault(t,5,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.HouseTile.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.HouseTile;return proto.HouseTile.deserializeBinaryFromReader(o,t)},proto.HouseTile.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setRoom(o);break;case 2:o=new s.Coordinate;t.readMessage(o,s.Coordinate.deserializeBinaryFromReader),e.setPosition(o);break;case 3:o=t.readInt32();e.setDoors(o);break;case 4:o=t.readBool();e.setVisible(o);break;case 5:o=t.readBool();e.setOmenSolved(o);break;default:t.skipField()}}return e},proto.HouseTile.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.HouseTile.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.HouseTile.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getRoom())&&t.writeEnum(1,o),null!=(o=e.getPosition())&&t.writeMessage(2,o,s.Coordinate.serializeBinaryToWriter),0!==(o=e.getDoors())&&t.writeInt32(3,o),(o=e.getVisible())&&t.writeBool(4,o),(o=e.getOmenSolved())&&t.writeBool(5,o)},proto.HouseTile.prototype.getRoom=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.HouseTile.prototype.setRoom=function(e){return i.Message.setProto3EnumField(this,1,e)},proto.HouseTile.prototype.getPosition=function(){return i.Message.getWrapperField(this,s.Coordinate,2)},proto.HouseTile.prototype.setPosition=function(e){return i.Message.setWrapperField(this,2,e)},proto.HouseTile.prototype.clearPosition=function(){return this.setPosition(void 0)},proto.HouseTile.prototype.hasPosition=function(){return null!=i.Message.getField(this,2)},proto.HouseTile.prototype.getDoors=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.HouseTile.prototype.setDoors=function(e){return i.Message.setProto3IntField(this,3,e)},proto.HouseTile.prototype.getVisible=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.HouseTile.prototype.setVisible=function(e){return i.Message.setProto3BooleanField(this,4,e)},proto.HouseTile.prototype.getOmenSolved=function(){return i.Message.getBooleanFieldWithDefault(this,5,!1)},proto.HouseTile.prototype.setOmenSolved=function(e){return i.Message.setProto3BooleanField(this,5,e)},i.Message.GENERATE_TO_OBJECT&&(proto.HousePlayer.prototype.toObject=function(e){return proto.HousePlayer.toObject(e,this)},proto.HousePlayer.toObject=function(e,t){var o,r={doll:i.Message.getFieldWithDefault(t,1,0),position:(o=t.getPosition())&&s.Coordinate.toObject(e,o),isDead:i.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(r.$jspbMessageInstance=t),r}),proto.HousePlayer.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.HousePlayer;return proto.HousePlayer.deserializeBinaryFromReader(o,t)},proto.HousePlayer.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readEnum();e.setDoll(o);break;case 2:o=new s.Coordinate;t.readMessage(o,s.Coordinate.deserializeBinaryFromReader),e.setPosition(o);break;case 3:o=t.readBool();e.setIsDead(o);break;default:t.skipField()}}return e},proto.HousePlayer.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.HousePlayer.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.HousePlayer.serializeBinaryToWriter=function(e,t){var o=void 0;0!==(o=e.getDoll())&&t.writeEnum(1,o),null!=(o=e.getPosition())&&t.writeMessage(2,o,s.Coordinate.serializeBinaryToWriter),(o=e.getIsDead())&&t.writeBool(3,o)},proto.HousePlayer.prototype.getDoll=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.HousePlayer.prototype.setDoll=function(e){return i.Message.setProto3EnumField(this,1,e)},proto.HousePlayer.prototype.getPosition=function(){return i.Message.getWrapperField(this,s.Coordinate,2)},proto.HousePlayer.prototype.setPosition=function(e){return i.Message.setWrapperField(this,2,e)},proto.HousePlayer.prototype.clearPosition=function(){return this.setPosition(void 0)},proto.HousePlayer.prototype.hasPosition=function(){return null!=i.Message.getField(this,2)},proto.HousePlayer.prototype.getIsDead=function(){return i.Message.getBooleanFieldWithDefault(this,3,!1)},proto.HousePlayer.prototype.setIsDead=function(e){return i.Message.setProto3BooleanField(this,3,e)},proto.HouseBoard.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.HouseBoard.prototype.toObject=function(e){return proto.HouseBoard.toObject(e,this)},proto.HouseBoard.toObject=function(e,t){var o={tilesList:i.Message.toObjectList(t.getTilesList(),proto.HouseTile.toObject,e),width:i.Message.getFieldWithDefault(t,2,0),height:i.Message.getFieldWithDefault(t,3,0)};return e&&(o.$jspbMessageInstance=t),o}),proto.HouseBoard.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.HouseBoard;return proto.HouseBoard.deserializeBinaryFromReader(o,t)},proto.HouseBoard.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new proto.HouseTile;t.readMessage(o,proto.HouseTile.deserializeBinaryFromReader),e.addTiles(o);break;case 2:o=t.readInt32();e.setWidth(o);break;case 3:o=t.readInt32();e.setHeight(o);break;default:t.skipField()}}return e},proto.HouseBoard.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.HouseBoard.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.HouseBoard.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getTilesList()).length>0&&t.writeRepeatedMessage(1,o,proto.HouseTile.serializeBinaryToWriter),0!==(o=e.getWidth())&&t.writeInt32(2,o),0!==(o=e.getHeight())&&t.writeInt32(3,o)},proto.HouseBoard.prototype.getTilesList=function(){return i.Message.getRepeatedWrapperField(this,proto.HouseTile,1)},proto.HouseBoard.prototype.setTilesList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.HouseBoard.prototype.addTiles=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.HouseTile,t)},proto.HouseBoard.prototype.clearTilesList=function(){return this.setTilesList([])},proto.HouseBoard.prototype.getWidth=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.HouseBoard.prototype.setWidth=function(e){return i.Message.setProto3IntField(this,2,e)},proto.HouseBoard.prototype.getHeight=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.HouseBoard.prototype.setHeight=function(e){return i.Message.setProto3IntField(this,3,e)},proto.OmenMinigame.repeatedFields_=[2],i.Message.GENERATE_TO_OBJECT&&(proto.OmenMinigame.prototype.toObject=function(e){return proto.OmenMinigame.toObject(e,this)},proto.OmenMinigame.toObject=function(e,t){var o,r={question:i.Message.getFieldWithDefault(t,1,""),optionsList:null==(o=i.Message.getRepeatedField(t,2))?void 0:o,selectedIndex:i.Message.getFieldWithDefault(t,3,0),input:i.Message.getFieldWithDefault(t,4,""),answer:i.Message.getFieldWithDefault(t,5,""),score:i.Message.getFieldWithDefault(t,6,0),threshold:i.Message.getFieldWithDefault(t,7,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.OmenMinigame.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.OmenMinigame;return proto.OmenMinigame.deserializeBinaryFromReader(o,t)},proto.OmenMinigame.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=t.readString();e.setQuestion(o);break;case 2:o=t.readString();e.addOptions(o);break;case 3:o=t.readInt32();e.setSelectedIndex(o);break;case 4:o=t.readString();e.setInput(o);break;case 5:o=t.readString();e.setAnswer(o);break;case 6:o=t.readInt32();e.setScore(o);break;case 7:o=t.readInt32();e.setThreshold(o);break;default:t.skipField()}}return e},proto.OmenMinigame.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.OmenMinigame.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.OmenMinigame.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getQuestion()).length>0&&t.writeString(1,o),(o=e.getOptionsList()).length>0&&t.writeRepeatedString(2,o),0!==(o=e.getSelectedIndex())&&t.writeInt32(3,o),(o=e.getInput()).length>0&&t.writeString(4,o),(o=e.getAnswer()).length>0&&t.writeString(5,o),0!==(o=e.getScore())&&t.writeInt32(6,o),0!==(o=e.getThreshold())&&t.writeInt32(7,o)},proto.OmenMinigame.OptionChoice={CHOICE_NORMAL:0,CORRECT:1,INCORRECT:2},proto.OmenMinigame.prototype.getQuestion=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.OmenMinigame.prototype.setQuestion=function(e){return i.Message.setProto3StringField(this,1,e)},proto.OmenMinigame.prototype.getOptionsList=function(){return i.Message.getRepeatedField(this,2)},proto.OmenMinigame.prototype.setOptionsList=function(e){return i.Message.setField(this,2,e||[])},proto.OmenMinigame.prototype.addOptions=function(e,t){return i.Message.addToRepeatedField(this,2,e,t)},proto.OmenMinigame.prototype.clearOptionsList=function(){return this.setOptionsList([])},proto.OmenMinigame.prototype.getSelectedIndex=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.OmenMinigame.prototype.setSelectedIndex=function(e){return i.Message.setProto3IntField(this,3,e)},proto.OmenMinigame.prototype.getInput=function(){return i.Message.getFieldWithDefault(this,4,"")},proto.OmenMinigame.prototype.setInput=function(e){return i.Message.setProto3StringField(this,4,e)},proto.OmenMinigame.prototype.getAnswer=function(){return i.Message.getFieldWithDefault(this,5,"")},proto.OmenMinigame.prototype.setAnswer=function(e){return i.Message.setProto3StringField(this,5,e)},proto.OmenMinigame.prototype.getScore=function(){return i.Message.getFieldWithDefault(this,6,0)},proto.OmenMinigame.prototype.setScore=function(e){return i.Message.setProto3IntField(this,6,e)},proto.OmenMinigame.prototype.getThreshold=function(){return i.Message.getFieldWithDefault(this,7,0)},proto.OmenMinigame.prototype.setThreshold=function(e){return i.Message.setProto3IntField(this,7,e)},proto.GhostPepperGameState.repeatedFields_=[4],i.Message.GENERATE_TO_OBJECT&&(proto.GhostPepperGameState.prototype.toObject=function(e){return proto.GhostPepperGameState.toObject(e,this)},proto.GhostPepperGameState.toObject=function(e,t){var o,r={baseState:(o=t.getBaseState())&&a.GameState.toObject(e,o),state:i.Message.getFieldWithDefault(t,2,0),board:(o=t.getBoard())&&proto.HouseBoard.toObject(e,o),playersList:i.Message.toObjectList(t.getPlayersList(),proto.HousePlayer.toObject,e),currentTurn:i.Message.getFieldWithDefault(t,5,0),currentOmen:i.Message.getFieldWithDefault(t,6,0),omenMinigame:(o=t.getOmenMinigame())&&proto.OmenMinigame.toObject(e,o),numOmens:i.Message.getFieldWithDefault(t,8,0),turnCount:i.Message.getFieldWithDefault(t,9,0),omenEndTick:i.Message.getFieldWithDefault(t,10,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.GhostPepperGameState.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.GhostPepperGameState;return proto.GhostPepperGameState.deserializeBinaryFromReader(o,t)},proto.GhostPepperGameState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new a.GameState;t.readMessage(o,a.GameState.deserializeBinaryFromReader),e.setBaseState(o);break;case 2:o=t.readEnum();e.setState(o);break;case 3:o=new proto.HouseBoard;t.readMessage(o,proto.HouseBoard.deserializeBinaryFromReader),e.setBoard(o);break;case 4:o=new proto.HousePlayer;t.readMessage(o,proto.HousePlayer.deserializeBinaryFromReader),e.addPlayers(o);break;case 5:o=t.readEnum();e.setCurrentTurn(o);break;case 6:o=t.readEnum();e.setCurrentOmen(o);break;case 7:o=new proto.OmenMinigame;t.readMessage(o,proto.OmenMinigame.deserializeBinaryFromReader),e.setOmenMinigame(o);break;case 8:o=t.readInt32();e.setNumOmens(o);break;case 9:o=t.readInt32();e.setTurnCount(o);break;case 10:o=t.readInt32();e.setOmenEndTick(o);break;default:t.skipField()}}return e},proto.GhostPepperGameState.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.GhostPepperGameState.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.GhostPepperGameState.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getBaseState())&&t.writeMessage(1,o,a.GameState.serializeBinaryToWriter),0!==(o=e.getState())&&t.writeEnum(2,o),null!=(o=e.getBoard())&&t.writeMessage(3,o,proto.HouseBoard.serializeBinaryToWriter),(o=e.getPlayersList()).length>0&&t.writeRepeatedMessage(4,o,proto.HousePlayer.serializeBinaryToWriter),0!==(o=e.getCurrentTurn())&&t.writeEnum(5,o),0!==(o=e.getCurrentOmen())&&t.writeEnum(6,o),null!=(o=e.getOmenMinigame())&&t.writeMessage(7,o,proto.OmenMinigame.serializeBinaryToWriter),0!==(o=e.getNumOmens())&&t.writeInt32(8,o),0!==(o=e.getTurnCount())&&t.writeInt32(9,o),0!==(o=e.getOmenEndTick())&&t.writeInt32(10,o)},proto.GhostPepperGameState.GhostPepperState={WAITING_FOR_START:0,MOVING:2,OMEN:3,GAME_WIN:4},proto.GhostPepperGameState.prototype.getBaseState=function(){return i.Message.getWrapperField(this,a.GameState,1)},proto.GhostPepperGameState.prototype.setBaseState=function(e){return i.Message.setWrapperField(this,1,e)},proto.GhostPepperGameState.prototype.clearBaseState=function(){return this.setBaseState(void 0)},proto.GhostPepperGameState.prototype.hasBaseState=function(){return null!=i.Message.getField(this,1)},proto.GhostPepperGameState.prototype.getState=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.GhostPepperGameState.prototype.setState=function(e){return i.Message.setProto3EnumField(this,2,e)},proto.GhostPepperGameState.prototype.getBoard=function(){return i.Message.getWrapperField(this,proto.HouseBoard,3)},proto.GhostPepperGameState.prototype.setBoard=function(e){return i.Message.setWrapperField(this,3,e)},proto.GhostPepperGameState.prototype.clearBoard=function(){return this.setBoard(void 0)},proto.GhostPepperGameState.prototype.hasBoard=function(){return null!=i.Message.getField(this,3)},proto.GhostPepperGameState.prototype.getPlayersList=function(){return i.Message.getRepeatedWrapperField(this,proto.HousePlayer,4)},proto.GhostPepperGameState.prototype.setPlayersList=function(e){return i.Message.setRepeatedWrapperField(this,4,e)},proto.GhostPepperGameState.prototype.addPlayers=function(e,t){return i.Message.addToRepeatedWrapperField(this,4,e,proto.HousePlayer,t)},proto.GhostPepperGameState.prototype.clearPlayersList=function(){return this.setPlayersList([])},proto.GhostPepperGameState.prototype.getCurrentTurn=function(){return i.Message.getFieldWithDefault(this,5,0)},proto.GhostPepperGameState.prototype.setCurrentTurn=function(e){return i.Message.setProto3EnumField(this,5,e)},proto.GhostPepperGameState.prototype.getCurrentOmen=function(){return i.Message.getFieldWithDefault(this,6,0)},proto.GhostPepperGameState.prototype.setCurrentOmen=function(e){return i.Message.setProto3EnumField(this,6,e)},proto.GhostPepperGameState.prototype.getOmenMinigame=function(){return i.Message.getWrapperField(this,proto.OmenMinigame,7)},proto.GhostPepperGameState.prototype.setOmenMinigame=function(e){return i.Message.setWrapperField(this,7,e)},proto.GhostPepperGameState.prototype.clearOmenMinigame=function(){return this.setOmenMinigame(void 0)},proto.GhostPepperGameState.prototype.hasOmenMinigame=function(){return null!=i.Message.getField(this,7)},proto.GhostPepperGameState.prototype.getNumOmens=function(){return i.Message.getFieldWithDefault(this,8,0)},proto.GhostPepperGameState.prototype.setNumOmens=function(e){return i.Message.setProto3IntField(this,8,e)},proto.GhostPepperGameState.prototype.getTurnCount=function(){return i.Message.getFieldWithDefault(this,9,0)},proto.GhostPepperGameState.prototype.setTurnCount=function(e){return i.Message.setProto3IntField(this,9,e)},proto.GhostPepperGameState.prototype.getOmenEndTick=function(){return i.Message.getFieldWithDefault(this,10,0)},proto.GhostPepperGameState.prototype.setOmenEndTick=function(e){return i.Message.setProto3IntField(this,10,e)},proto.GhostPepperGameAction.oneofGroups_=[[2,3]],proto.GhostPepperGameAction.ActionCase={ACTION_NOT_SET:0,MOVE:2,INPUT:3},proto.GhostPepperGameAction.prototype.getActionCase=function(){return i.Message.computeOneofCase(this,proto.GhostPepperGameAction.oneofGroups_[0])},i.Message.GENERATE_TO_OBJECT&&(proto.GhostPepperGameAction.prototype.toObject=function(e){return proto.GhostPepperGameAction.toObject(e,this)},proto.GhostPepperGameAction.toObject=function(e,t){var o,r={baseAction:(o=t.getBaseAction())&&a.GameAction.toObject(e,o),move:i.Message.getFieldWithDefault(t,2,0),input:i.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.GhostPepperGameAction.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.GhostPepperGameAction;return proto.GhostPepperGameAction.deserializeBinaryFromReader(o,t)},proto.GhostPepperGameAction.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var o=new a.GameAction;t.readMessage(o,a.GameAction.deserializeBinaryFromReader),e.setBaseAction(o);break;case 2:o=t.readEnum();e.setMove(o);break;case 3:o=t.readString();e.setInput(o);break;default:t.skipField()}}return e},proto.GhostPepperGameAction.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.GhostPepperGameAction.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.GhostPepperGameAction.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getBaseAction())&&t.writeMessage(1,o,a.GameAction.serializeBinaryToWriter),null!=(o=i.Message.getField(e,2))&&t.writeEnum(2,o),null!=(o=i.Message.getField(e,3))&&t.writeString(3,o)},proto.GhostPepperGameAction.prototype.getBaseAction=function(){return i.Message.getWrapperField(this,a.GameAction,1)},proto.GhostPepperGameAction.prototype.setBaseAction=function(e){return i.Message.setWrapperField(this,1,e)},proto.GhostPepperGameAction.prototype.clearBaseAction=function(){return this.setBaseAction(void 0)},proto.GhostPepperGameAction.prototype.hasBaseAction=function(){return null!=i.Message.getField(this,1)},proto.GhostPepperGameAction.prototype.getMove=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.GhostPepperGameAction.prototype.setMove=function(e){return i.Message.setOneofField(this,2,proto.GhostPepperGameAction.oneofGroups_[0],e)},proto.GhostPepperGameAction.prototype.clearMove=function(){return i.Message.setOneofField(this,2,proto.GhostPepperGameAction.oneofGroups_[0],void 0)},proto.GhostPepperGameAction.prototype.hasMove=function(){return null!=i.Message.getField(this,2)},proto.GhostPepperGameAction.prototype.getInput=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.GhostPepperGameAction.prototype.setInput=function(e){return i.Message.setOneofField(this,3,proto.GhostPepperGameAction.oneofGroups_[0],e)},proto.GhostPepperGameAction.prototype.clearInput=function(){return i.Message.setOneofField(this,3,proto.GhostPepperGameAction.oneofGroups_[0],void 0)},proto.GhostPepperGameAction.prototype.hasInput=function(){return null!=i.Message.getField(this,3)},proto.OmenType={UNKNOWN_OMEN:0,MATH:1,MEMORY:2,ANAGRAMS:3,PIGPEN:4,PASSCODE:5,VERBAL_MEMORY:6},proto.Doll={UNKNOWN_DOLL:0,BARBIE:1,KEN:2,MIDGE:3,RYAN:4,STACIE:5,TAWNY:6},proto.RoomTile={UNKNOWN_ROOM:0,ENTRANCE_HALL:1,JUNK_ROOM:2,LARDER:3,VAULT:4,CATACOMBS:5,PENTAGRAM_CHAMBER:6,RESEARCH_LABORATORY:7},r.object.extend(t,proto)},b5m6:function(e,t,o){"use strict";o.r(t),t.default=o.p+"static/assets/puzzle/ghostpepper/b26c2c058cce402b2c0fa591a7ed162c.otf"},lnsZ:function(e,t,o){"use strict";var i=o("wx14"),r=o("Ff2n"),n=o("MX0m"),a=o.n(n),s=o("q1tI"),c=o.n(s),l=c.a.createElement;t.a=function(e){var t=e.playerStarted,o=e.isConnected,n=e.title,s=e.players,p=e.currentPlayer,h=e.playerSprite,u=e.startButton,g=e.confirmButton,d=e.rejoinButton,m=e.className,y=e.requiredPlayers,f=void 0===y?1:y,O=Object(r.a)(e,["playerStarted","isConnected","title","players","currentPlayer","playerSprite","startButton","confirmButton","rejoinButton","className","requiredPlayers"]),M=o&&s.every((function(e){return e.getReady()}))&&s.length>=f,b=Math.max(f-1,s.filter((function(e){return!e.getReady()})).length);return l("div",Object(i.a)({},O,{className:"jsx-243751013 "+(O&&null!=O.className&&O.className||"abs-center center ".concat(null!==m&&void 0!==m?m:""))}),n,M?l(c.a.Fragment,null,g,l("p",{className:"jsx-243751013 small"},"Note: Once you begin a session, others won't be able to join until it ends.")):t&&s.length>=f?"Waiting for ".concat(b," other player").concat(1===b?"":"s"," to join..."):t?"(Minimum of ".concat(f," players required)"):o?u:l(c.a.Fragment,null,d,l("p",{className:"jsx-243751013 small"},"Game in session... ",l("br",{className:"jsx-243751013"}),"Please wait for the current session to complete.")),s.length>0&&l("p",{className:"jsx-243751013 small"},"(",s.length," player",1===s.length?" ":"s ","in lobby)"),h&&l("div",{className:"jsx-243751013 players flex-center"},s.map((function(e,t){return l("div",{key:t,style:{backgroundPosition:"".concat(100*t/5,"%"),backgroundImage:"url(".concat(h.url,")"),backgroundSize:"600% 100%",transform:"scale(".concat(t===p?1:.7,")"),filter:e.getReady()?"none":"grayscale(1) opacity(80%)",width:h.width,height:h.height},className:"jsx-243751013"})}))),l(a.a,{id:"243751013"},[".small.jsx-243751013{font-size:1.8vmin;line-height:2.2vmin;margin-top:2.8vmin;}"]))}},oRUw:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));var i=o("q1tI"),r=function(e,t,o){var r=Object(i.useRef)(),n=Object(i.useRef)(),a=function o(i){if(void 0!==n.current){var a=i-n.current;t.current+=a/100,e(t.current)}n.current=i,r.current=requestAnimationFrame(o)};Object(i.useEffect)((function(){return r.current=requestAnimationFrame(a),function(){return cancelAnimationFrame(r.current)}}),[o])}}}]);