(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[143],{"0A3Y":function(e,t,r){var i=r("hRO2"),a=i,o=Function("return this")(),s=r("MraH");a.object.extend(proto,s);var n=r("rlJ6");a.object.extend(proto,n),a.exportSymbol("proto.FigGameAction",null,o),a.exportSymbol("proto.FigGameState",null,o),a.exportSymbol("proto.FigGameState.FigState",null,o),a.exportSymbol("proto.Fish",null,o),a.exportSymbol("proto.FishType",null,o),proto.Fish=function(e){i.Message.initialize(this,e,0,-1,null,null)},a.inherits(proto.Fish,i.Message),a.DEBUG&&!COMPILED&&(proto.Fish.displayName="proto.Fish"),proto.FigGameState=function(e){i.Message.initialize(this,e,0,-1,proto.FigGameState.repeatedFields_,null)},a.inherits(proto.FigGameState,i.Message),a.DEBUG&&!COMPILED&&(proto.FigGameState.displayName="proto.FigGameState"),proto.FigGameAction=function(e){i.Message.initialize(this,e,0,-1,null,null)},a.inherits(proto.FigGameAction,i.Message),a.DEBUG&&!COMPILED&&(proto.FigGameAction.displayName="proto.FigGameAction"),i.Message.GENERATE_TO_OBJECT&&(proto.Fish.prototype.toObject=function(e){return proto.Fish.toObject(e,this)},proto.Fish.toObject=function(e,t){var r,a={fishType:i.Message.getFieldWithDefault(t,1,0),coordinate:(r=t.getCoordinate())&&n.Coordinate.toObject(e,r),size:i.Message.getFieldWithDefault(t,3,0),facingLeft:i.Message.getBooleanFieldWithDefault(t,4,!1),invertColors:i.Message.getBooleanFieldWithDefault(t,5,!1)};return e&&(a.$jspbMessageInstance=t),a}),proto.Fish.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.Fish;return proto.Fish.deserializeBinaryFromReader(r,t)},proto.Fish.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=t.readEnum();e.setFishType(r);break;case 2:r=new n.Coordinate;t.readMessage(r,n.Coordinate.deserializeBinaryFromReader),e.setCoordinate(r);break;case 3:r=t.readInt32();e.setSize(r);break;case 4:r=t.readBool();e.setFacingLeft(r);break;case 5:r=t.readBool();e.setInvertColors(r);break;default:t.skipField()}}return e},proto.Fish.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.Fish.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.Fish.serializeBinaryToWriter=function(e,t){var r=void 0;0!==(r=e.getFishType())&&t.writeEnum(1,r),null!=(r=e.getCoordinate())&&t.writeMessage(2,r,n.Coordinate.serializeBinaryToWriter),0!==(r=e.getSize())&&t.writeInt32(3,r),(r=e.getFacingLeft())&&t.writeBool(4,r),(r=e.getInvertColors())&&t.writeBool(5,r)},proto.Fish.prototype.getFishType=function(){return i.Message.getFieldWithDefault(this,1,0)},proto.Fish.prototype.setFishType=function(e){return i.Message.setProto3EnumField(this,1,e)},proto.Fish.prototype.getCoordinate=function(){return i.Message.getWrapperField(this,n.Coordinate,2)},proto.Fish.prototype.setCoordinate=function(e){return i.Message.setWrapperField(this,2,e)},proto.Fish.prototype.clearCoordinate=function(){return this.setCoordinate(void 0)},proto.Fish.prototype.hasCoordinate=function(){return null!=i.Message.getField(this,2)},proto.Fish.prototype.getSize=function(){return i.Message.getFieldWithDefault(this,3,0)},proto.Fish.prototype.setSize=function(e){return i.Message.setProto3IntField(this,3,e)},proto.Fish.prototype.getFacingLeft=function(){return i.Message.getBooleanFieldWithDefault(this,4,!1)},proto.Fish.prototype.setFacingLeft=function(e){return i.Message.setProto3BooleanField(this,4,e)},proto.Fish.prototype.getInvertColors=function(){return i.Message.getBooleanFieldWithDefault(this,5,!1)},proto.Fish.prototype.setInvertColors=function(e){return i.Message.setProto3BooleanField(this,5,e)},proto.FigGameState.repeatedFields_=[3,4,5,6,9],i.Message.GENERATE_TO_OBJECT&&(proto.FigGameState.prototype.toObject=function(e){return proto.FigGameState.toObject(e,this)},proto.FigGameState.toObject=function(e,t){var r,a={baseState:(r=t.getBaseState())&&s.GameState.toObject(e,r),state:i.Message.getFieldWithDefault(t,2,0),leftPictureList:i.Message.toObjectList(t.getLeftPictureList(),proto.Fish.toObject,e),rightPictureList:i.Message.toObjectList(t.getRightPictureList(),proto.Fish.toObject,e),wrongGuessesList:i.Message.toObjectList(t.getWrongGuessesList(),n.Coordinate.toObject,e),correctGuessesList:i.Message.toObjectList(t.getCorrectGuessesList(),n.Coordinate.toObject,e),numLives:i.Message.getFieldWithDefault(t,7,0),card:i.Message.getFieldWithDefault(t,8,0),missedGuessesList:i.Message.toObjectList(t.getMissedGuessesList(),n.Coordinate.toObject,e)};return e&&(a.$jspbMessageInstance=t),a}),proto.FigGameState.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.FigGameState;return proto.FigGameState.deserializeBinaryFromReader(r,t)},proto.FigGameState.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new s.GameState;t.readMessage(r,s.GameState.deserializeBinaryFromReader),e.setBaseState(r);break;case 2:r=t.readEnum();e.setState(r);break;case 3:r=new proto.Fish;t.readMessage(r,proto.Fish.deserializeBinaryFromReader),e.addLeftPicture(r);break;case 4:r=new proto.Fish;t.readMessage(r,proto.Fish.deserializeBinaryFromReader),e.addRightPicture(r);break;case 5:r=new n.Coordinate;t.readMessage(r,n.Coordinate.deserializeBinaryFromReader),e.addWrongGuesses(r);break;case 6:r=new n.Coordinate;t.readMessage(r,n.Coordinate.deserializeBinaryFromReader),e.addCorrectGuesses(r);break;case 7:r=t.readInt32();e.setNumLives(r);break;case 8:r=t.readInt32();e.setCard(r);break;case 9:r=new n.Coordinate;t.readMessage(r,n.Coordinate.deserializeBinaryFromReader),e.addMissedGuesses(r);break;default:t.skipField()}}return e},proto.FigGameState.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.FigGameState.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.FigGameState.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseState())&&t.writeMessage(1,r,s.GameState.serializeBinaryToWriter),0!==(r=e.getState())&&t.writeEnum(2,r),(r=e.getLeftPictureList()).length>0&&t.writeRepeatedMessage(3,r,proto.Fish.serializeBinaryToWriter),(r=e.getRightPictureList()).length>0&&t.writeRepeatedMessage(4,r,proto.Fish.serializeBinaryToWriter),(r=e.getWrongGuessesList()).length>0&&t.writeRepeatedMessage(5,r,n.Coordinate.serializeBinaryToWriter),(r=e.getCorrectGuessesList()).length>0&&t.writeRepeatedMessage(6,r,n.Coordinate.serializeBinaryToWriter),0!==(r=e.getNumLives())&&t.writeInt32(7,r),0!==(r=e.getCard())&&t.writeInt32(8,r),(r=e.getMissedGuessesList()).length>0&&t.writeRepeatedMessage(9,r,n.Coordinate.serializeBinaryToWriter)},proto.FigGameState.FigState={WAITING_FOR_START:0,LOOKING_FOR_DIFFS:1},proto.FigGameState.prototype.getBaseState=function(){return i.Message.getWrapperField(this,s.GameState,1)},proto.FigGameState.prototype.setBaseState=function(e){return i.Message.setWrapperField(this,1,e)},proto.FigGameState.prototype.clearBaseState=function(){return this.setBaseState(void 0)},proto.FigGameState.prototype.hasBaseState=function(){return null!=i.Message.getField(this,1)},proto.FigGameState.prototype.getState=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.FigGameState.prototype.setState=function(e){return i.Message.setProto3EnumField(this,2,e)},proto.FigGameState.prototype.getLeftPictureList=function(){return i.Message.getRepeatedWrapperField(this,proto.Fish,3)},proto.FigGameState.prototype.setLeftPictureList=function(e){return i.Message.setRepeatedWrapperField(this,3,e)},proto.FigGameState.prototype.addLeftPicture=function(e,t){return i.Message.addToRepeatedWrapperField(this,3,e,proto.Fish,t)},proto.FigGameState.prototype.clearLeftPictureList=function(){return this.setLeftPictureList([])},proto.FigGameState.prototype.getRightPictureList=function(){return i.Message.getRepeatedWrapperField(this,proto.Fish,4)},proto.FigGameState.prototype.setRightPictureList=function(e){return i.Message.setRepeatedWrapperField(this,4,e)},proto.FigGameState.prototype.addRightPicture=function(e,t){return i.Message.addToRepeatedWrapperField(this,4,e,proto.Fish,t)},proto.FigGameState.prototype.clearRightPictureList=function(){return this.setRightPictureList([])},proto.FigGameState.prototype.getWrongGuessesList=function(){return i.Message.getRepeatedWrapperField(this,n.Coordinate,5)},proto.FigGameState.prototype.setWrongGuessesList=function(e){return i.Message.setRepeatedWrapperField(this,5,e)},proto.FigGameState.prototype.addWrongGuesses=function(e,t){return i.Message.addToRepeatedWrapperField(this,5,e,proto.Coordinate,t)},proto.FigGameState.prototype.clearWrongGuessesList=function(){return this.setWrongGuessesList([])},proto.FigGameState.prototype.getCorrectGuessesList=function(){return i.Message.getRepeatedWrapperField(this,n.Coordinate,6)},proto.FigGameState.prototype.setCorrectGuessesList=function(e){return i.Message.setRepeatedWrapperField(this,6,e)},proto.FigGameState.prototype.addCorrectGuesses=function(e,t){return i.Message.addToRepeatedWrapperField(this,6,e,proto.Coordinate,t)},proto.FigGameState.prototype.clearCorrectGuessesList=function(){return this.setCorrectGuessesList([])},proto.FigGameState.prototype.getNumLives=function(){return i.Message.getFieldWithDefault(this,7,0)},proto.FigGameState.prototype.setNumLives=function(e){return i.Message.setProto3IntField(this,7,e)},proto.FigGameState.prototype.getCard=function(){return i.Message.getFieldWithDefault(this,8,0)},proto.FigGameState.prototype.setCard=function(e){return i.Message.setProto3IntField(this,8,e)},proto.FigGameState.prototype.getMissedGuessesList=function(){return i.Message.getRepeatedWrapperField(this,n.Coordinate,9)},proto.FigGameState.prototype.setMissedGuessesList=function(e){return i.Message.setRepeatedWrapperField(this,9,e)},proto.FigGameState.prototype.addMissedGuesses=function(e,t){return i.Message.addToRepeatedWrapperField(this,9,e,proto.Coordinate,t)},proto.FigGameState.prototype.clearMissedGuessesList=function(){return this.setMissedGuessesList([])},i.Message.GENERATE_TO_OBJECT&&(proto.FigGameAction.prototype.toObject=function(e){return proto.FigGameAction.toObject(e,this)},proto.FigGameAction.toObject=function(e,t){var r,i={baseAction:(r=t.getBaseAction())&&s.GameAction.toObject(e,r),click:(r=t.getClick())&&n.Coordinate.toObject(e,r)};return e&&(i.$jspbMessageInstance=t),i}),proto.FigGameAction.deserializeBinary=function(e){var t=new i.BinaryReader(e),r=new proto.FigGameAction;return proto.FigGameAction.deserializeBinaryFromReader(r,t)},proto.FigGameAction.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var r=new s.GameAction;t.readMessage(r,s.GameAction.deserializeBinaryFromReader),e.setBaseAction(r);break;case 2:r=new n.Coordinate;t.readMessage(r,n.Coordinate.deserializeBinaryFromReader),e.setClick(r);break;default:t.skipField()}}return e},proto.FigGameAction.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.FigGameAction.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.FigGameAction.serializeBinaryToWriter=function(e,t){var r=void 0;null!=(r=e.getBaseAction())&&t.writeMessage(1,r,s.GameAction.serializeBinaryToWriter),null!=(r=e.getClick())&&t.writeMessage(2,r,n.Coordinate.serializeBinaryToWriter)},proto.FigGameAction.prototype.getBaseAction=function(){return i.Message.getWrapperField(this,s.GameAction,1)},proto.FigGameAction.prototype.setBaseAction=function(e){return i.Message.setWrapperField(this,1,e)},proto.FigGameAction.prototype.clearBaseAction=function(){return this.setBaseAction(void 0)},proto.FigGameAction.prototype.hasBaseAction=function(){return null!=i.Message.getField(this,1)},proto.FigGameAction.prototype.getClick=function(){return i.Message.getWrapperField(this,n.Coordinate,2)},proto.FigGameAction.prototype.setClick=function(e){return i.Message.setWrapperField(this,2,e)},proto.FigGameAction.prototype.clearClick=function(){return this.setClick(void 0)},proto.FigGameAction.prototype.hasClick=function(){return null!=i.Message.getField(this,2)},proto.FishType={FISH_TYPE_UNKNOWN:0,BITTERLING:1,PALE_CHUB:2,CRUCIAN_CARP:3,DACE:4,CARP:5,KOI:6,GOLDFISH:7,POP_EYED_GOLDFISH:8,RANCHU_GOLDFISH:9,KILLIFISH:10,CRAWFISH:11,SOFT_SHELLED_TURTLE:12,SNAPPING_TURTLE:13,TADPOLE:14,FROG:15,FRESHWATER_GOBY:16,LOACH:17,CATFISH:18,GIANT_SNAKEHEAD:19,BLUEGILL:20,YELLOW_PERCH:21,BLACK_BASS:22,TILAPIA:23,PIKE:24,POND_SMELT:25,SWEETFISH:26,CHERRY_SALMON:27,CHAR:28,GOLDEN_TROUT:29,STRINGFISH:30,SALMON:31,KING_SALMON:32,MITTEN_CRAB:33,GUPPY:34,NIBBLE_FISH:35,ANGELFISH:36,BETTA:37,NEON_TETRA:38,RAINBOWFISH:39,PIRANHA:40},a.object.extend(t,proto)},TkqQ:function(e,t,r){"use strict";r.r(t);var i=r("KQm4"),a=r("ODXe"),o=r("MX0m"),s=r.n(o),n=r("q1tI"),c=r.n(n),u=r("dN85"),l=r("lnsZ"),d=r("vMvH"),p=r("0A3Y"),g=r("MraH"),m=r("rlJ6"),f=r("ZQts"),h=r("eG5I"),F=r("1qJS"),y=r("oRUw"),S=c.a.createElement,G=p.FigGameState.FigState,v=2*Math.PI,M=[200,300,300,350,400],O=[3,4,5,6,7],L=[14,14,15,15,15],b=["bg1","bg2","bg3","bg4","bg5"],C=[[12,32],[12,32],[12,24],[12,24],[12,72]],T=["Ketchup","Molly","Weber","Molly","Ketchup","Weber"],E=function(){var e={};return Object.entries(p.FishType).forEach((function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];o!==p.FishType.FISH_TYPE_UNKNOWN&&(e[o]=i.toLowerCase())})),e}(),_=new Array(100).fill(0).map((function(e){return e+100*Math.random()})),R=[{src:"puzzle/fig/sfx",sprite:{correct1:[0,1200],correct2:[1200,1200],correct3:[2400,1200],correct4:[3600,1200],correct5:[4800,1200],correct6:[6e3,1200],correct7:[7200,1500],wrong:[8800,300]}},{src:"puzzle/fig/fishing",sprite:{full:[0,114406],loop:[57263,57143]},onend:function(){this.play("loop")}}],I=["correct7","correct6","correct5","correct4","correct3","correct2","correct1"],N=function(e,t,r){return[(e.getX()||0)/100*t/2,(e.getY()||0)/100*r]},W=function(e,t,r,i){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.clearRect(0,0,t,r),a?(e.drawImage(i,0,0,t/2,r),e.drawImage(i,t/2,0,t/2,r)):e.drawImage(i,0,0,t,r)},B=function(e,t,r,i,a,o,s,n){var c=function(a){return function(o,c){!function(e,t,r,i,a,o,s,n,c){var u;if(a.getSize()){t.save();var l=N(a.getCoordinate(),r,i);l[0]+=o[0],l[1]+=o[1],a.getFacingLeft()||(t.scale(-1,1),l[0]*=-1),a.getInvertColors()&&(t.filter="hue-rotate(180deg)");var d=(.5+(null!==(u=a.getSize())&&void 0!==u?u:0)/6)*(r/L[c]);t.drawImage(n,l[0]-d/2,l[1]-d/2+function(e){return e%2===0?0:2-e%4}(Math.round(s/10+_[e])),d,d),t.restore()}}(c,e,t,r,o,a,i,s[E[o.getFishType()]],n)}};a.forEach(c([0,0])),o.forEach(c([t/2,0]))},A=function(e,t,r,i,a){e.save(),e.translate(t-i,r-i),e.beginPath(),e.fillStyle=a,e.arc(i,i,i,0,v,!1),e.arc(i,i,3*i/4,0,v,!0),e.fill(),e.restore()},w=function(e,t,r,i){e.save(),e.beginPath(),e.strokeStyle="red",e.lineWidth=i/4,e.moveTo(t-i/2,r-i/2),e.lineTo(t+i/2,r+i/2),e.moveTo(t+i/2,r-i/2),e.lineTo(t-i/2,r+i/2),e.stroke(),e.restore()},j=function(e){var t=e.duckName,r=e.position,i=e.speech,a=e.className,o=e.screenDimensions,n=e.children;return S("div",{className:s.a.dynamic([["2266284587",[i.src,r[0],r[1],.28*o.width,.085*o.width]]])+" "+"".concat(a," container")},S("div",{className:s.a.dynamic([["2266284587",[i.src,r[0],r[1],.28*o.width,.085*o.width]]])+" inner"},S("div",{className:s.a.dynamic([["2266284587",[i.src,r[0],r[1],.28*o.width,.085*o.width]]])+" duckName"},t),S("p",{className:s.a.dynamic([["2266284587",[i.src,r[0],r[1],.28*o.width,.085*o.width]]])+" abs-center center"},n)),S(s.a,{id:"2266284587",dynamic:[i.src,r[0],r[1],.28*o.width,.085*o.width]},[".container.__jsx-style-dynamic-selector{background:url(".concat(i.src,");background-size:cover;font-family:'Humming';pointer-events:none;position:absolute;left:").concat(r[0],"%;top:").concat(r[1],"%;width:").concat(.28*o.width,"px;height:").concat(.085*o.width,"px;}"),".inner.__jsx-style-dynamic-selector{position:relative;height:100%;width:100%;}",".duckName.__jsx-style-dynamic-selector{font-size:10px;margin:2px 10px;}","p.__jsx-style-dynamic-selector{margin-top:4px;font-size:1.5vmin;line-height:1.6vmin;width:100%;}","@media (max-width:1000px){p.__jsx-style-dynamic-selector{font-size:1.2vmin;line-height:1.5vmin;}}"]))};t.default={Game:function(e){var t,r,a,o,v,L,_=e.canvasRef,k=e.gameState,P=e.isConnected,z=e.setLoading,x=e.currentPlayer,D=e.sendMessage,H=e.restartGame,K=e.screenDimensions,U=Object(n.useState)(!1),Y=U[0],J=U[1],X=Object(n.useState)([]),q=X[0],Q=X[1],$=Object(n.useState)([]),Z=$[0],V=$[1],ee=Object(n.useState)([]),te=ee[0],re=ee[1],ie=Object(n.useState)([]),ae=ie[0],oe=ie[1],se=Object(n.useState)([]),ne=se[0],ce=se[1],ue=Object(n.useState)(3),le=ue[0],de=ue[1],pe=Object(n.useState)(0),ge=pe[0],me=pe[1],fe=Object(n.useState)(null),he=(fe[0],fe[1],Object(n.useState)(null)),Fe=he[0],ye=he[1],Se=Object(n.useState)(null),Ge=Se[0],ve=Se[1],Me=Object(n.useState)(""),Oe=(Me[0],Me[1],Object(n.useState)(!0)),Le=Oe[0],be=Oe[1],Ce=Object(f.b)("puzzle/fig/",["banner","cursor","speech","title"].concat(b,Object(i.a)(Object.values(E)))),Te=Ce.isLoading,Ee=Ce.images,_e=Object(f.c)("",[].concat(R,[h.a,f.a])),Re=_e.isLoading,Ie=_e.sounds;Object(n.useEffect)((function(){Te||Re||z(!1)}),[Te,Re]);var Ne=Object(n.useRef)(null),We=Object(n.useRef)(0),Be=Object(n.useRef)([0,0]),Ae=Object(h.g)(null!==Fe?null!==Ge&&void 0!==Ge?Ge:M[ge]-(We.current-Fe):0,10,!Te&&!Re&&(null===(t=Ne.current)||void 0===t?void 0:t.getState())===G.LOOKING_FOR_DIFFS,{tickSfx:Ie["public/tick"]}),we=function(e){var t;if((null===(t=Ne.current)||void 0===t?void 0:t.getState())===G.LOOKING_FOR_DIFFS){var r=new p.FigGameAction,i=new m.Coordinate;i.setX(Be.current[0]%100),i.setY(Be.current[1]),r.setClick(i),D(r)}};Object(n.useEffect)((function(){var e=_.current.getBoundingClientRect();return _.current.onmousemove=function(t){Be.current=[Math.floor((t.clientX-e.x)/K.width*200),Math.floor((t.clientY-e.y)/K.height*100)]},_.current.onclick=we,function(){_.current.onclick=void 0,_.current.onmousemove=void 0}}),[_.current,D]),Object(n.useEffect)((function(){return _.current.style.cursor=Le?"auto":"none",function(){_.current.style.cursor="auto"}}),[_.current,Le]);var je=function(){var e=new p.FigGameAction,t=new g.GameAction;t.setAction(g.Action.START_GAME),e.setBaseAction(t),D(e),J(!0),Ie["public/mainsfx"].play("select")};Object(n.useEffect)((function(){var e,t;if(Ne.current=k,We.current=null!==(e=null===k||void 0===k?void 0:k.getBaseState().getTick())&&void 0!==e?e:0,k&&P&&!Te){var r=Object(F.e)(k),i=k.getCorrectGuessesList();if(i.length&&i.length!==ae.length&&(oe(i),!Ge)){if(!r){var a=I[O[ge]-i.length];Ie["puzzle/fig/sfx"].play(a)}i.length===O[ge]&&ve(M[ge]-(We.current-Fe))}var o=k.getWrongGuessesList();o.length&&o.length!==te.length&&(r||Ie["puzzle/fig/sfx"].play("wrong"),re(o));var s=null!==(t=k.getNumLives())&&void 0!==t?t:0;if(s!==le&&de(s),r){var n,c=k.getMissedGuessesList();ne.length||ce(c),Le||(be(!0),Ie["puzzle/fig/fishing"].fade(1,0,1e3),Ie["public/mainsfx"].play((null===k||void 0===k?void 0:null===(n=k.getBaseState())||void 0===n?void 0:n.getStatus())===g.GameStatus.COMPLETE_WIN?"win":"loss"))}else switch(k.getState()){case G.WAITING_FOR_START:break;case G.LOOKING_FOR_DIFFS:Le&&be(!1);var u=k.getLeftPictureList(),l=k.getRightPictureList();k.getWrongGuessesList();if(u.length&&l.length){var d,p=null!==(d=k.getBaseState().getLevel())&&void 0!==d?d:0;0===p&&Ie["puzzle/fig/fishing"].play("full"),me(p),Q(u),V(l),re([]),oe([]),ce([]),ye(We.current),ve(null)}}}}),[k]);Object(y.a)((function(e){var t,r;if(!Te&&!Re){var i=_.current.getContext("2d"),a=null!==(t=null===k||void 0===k?void 0:k.getBaseState().getStatus())&&void 0!==t?t:g.GameStatus.WAITING_FOR_START;a===g.GameStatus.WAITING_FOR_START?W(i,K.width,K.height,Ee.title,!1):(null===(r=Ne.current)||void 0===r?void 0:r.getState())!==G.LOOKING_FOR_DIFFS&&a!==g.GameStatus.COMPLETE_LOSS||(W(i,K.width,K.height,Ee[b[ge]]),B(i,K.width,K.height,e,q,Z,Ee,ge),function(e,t,r,i,a,o){var s=Math.max(20*t/1128,5);i.forEach((function(i){var a=N(i,t,r);w(e,a[0],a[1],s),w(e,a[0]+t/2,a[1],s)}));var n=function(i){return function(a){var o=N(a,t,r);A(e,o[0],o[1],s,i),A(e,o[0]+t/2,o[1],s,i)}};a.forEach(n("lightgreen")),o.forEach(n("red"))}(i,K.width,K.height,te,ae,ne),Le||function(e,t,r,i,a){e.drawImage(a,i[0]%100/100*t/2-10,i[1]/100*r-8,20,20),e.drawImage(a,(i[0]%100+100)/100*t/2-10,i[1]/100*r-8,20,20)}(i,K.width,K.height,Be.current,Ee.cursor))}}),We,[ge,q,Z,te,ae]);var ke=null!==(r=null===k||void 0===k?void 0:k.getState())&&void 0!==r?r:G.WAITING_FOR_START,Pe=null!==(a=null===k||void 0===k?void 0:k.getBaseState().getStatus())&&void 0!==a?a:g.GameStatus.WAITING_FOR_START,ze=null!==(o=null===k||void 0===k?void 0:null===(v=k.getBaseState())||void 0===v?void 0:v.getPlayersList())&&void 0!==o?o:[],xe=null!==(L=null===k||void 0===k?void 0:k.getBaseState().getTick())&&void 0!==L?L:0;if(Te||Re)return S("div",{className:"message abs-center center"},"Loading fishies...");var De=C[ge],He=Object(F.e)(k),Ke={styles:S(s.a,{id:"3914844381"},["div.jsx-3914844381{font-family:'Humming';top:85%;width:75%;}"]),className:"jsx-3914844381"},Ue=Ke.className,Ye=Ke.styles;return S(c.a.Fragment,null,Object(F.e)(k)?S(c.a.Fragment,null,S("div",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])+" winLose message center"},S("span",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"GAME ",Pe===g.GameStatus.COMPLETE_WIN?"COMPLETE":"OVER")),S("div",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])+" bottom message center"},S("button",{onClick:function(){Object(F.e)(Ne.current)&&(Ie["public/mainsfx"].play("select"),J(!1),Q([]),V([]),re([]),oe([]),ce([]),Ne.current=null,We.current=0,_.current.getContext("2d").clearRect(0,0,K.width,K.height),H())},className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Return to lobby"))):ke===G.WAITING_FOR_START&&0===xe?S(l.a,{playerStarted:Y,isConnected:P,players:ze,currentPlayer:x,startButton:S("button",{onClick:je,className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Ready to start"),confirmButton:S("button",{onClick:je,className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Start game"),rejoinButton:S("button",{onClick:H,className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Rejoin lobby"),className:Ue}):ke===G.LOOKING_FOR_DIFFS&&null!==Fe&&S("div",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])+" message center top"},Ae),ke>G.WAITING_FOR_START&&S(c.a.Fragment,null,[0,50].map((function(e){return S(j,{key:"card-".concat(e),className:"message",duckName:T[Ge?ge+1:ge],position:[De[0]+e,De[1]],speech:Ee.speech,screenDimensions:K},He?S("span",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"That was fun!",S("br",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])}),"Let's play again!"):Ge?S("span",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Nope! Go fish!"):S("span",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},"Do you have any ",S("strong",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])},k.getCard()),"s?"))})),S("div",{className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])+" lives"},[0,1,2].map((function(e){return S("span",{key:e,className:s.a.dynamic([["889389641",[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]]])+" heart"},S(u.a,{size:24,fill:e<le?"#c33":"lightgrey"}))})))),S(s.a,{id:"889389641",dynamic:[d.default,Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred"]},["@font-face{font-family:'Humming';src:url(".concat(d.default,");}"),".center.__jsx-style-dynamic-selector{position:absolute;left:50%;top:50%;text-align:center;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}",".bottom.__jsx-style-dynamic-selector{top:85%;}",".message.__jsx-style-dynamic-selector{color:#000;pointer-events:none;font-family:'Humming';font-size:25px;position:absolute;}",".lives.__jsx-style-dynamic-selector{right:20px;margin:20px;pointer-events:none;z-index:1;}",".heart.__jsx-style-dynamic-selector{margin-right:4px;}",".winLose.message.__jsx-style-dynamic-selector{color:".concat(Pe===g.GameStatus.COMPLETE_WIN?"green":"darkred",";font-size:50px;padding:16px 24px;text-shadow:2px 2px 2px #fff;top:20%;width:80%;}"),".message.top.__jsx-style-dynamic-selector{-webkit-text-stroke:1px #fff;font-weight:bold;top:20px;}","input.__jsx-style-dynamic-selector{font-size:20px;text-align:center;}",".submit.__jsx-style-dynamic-selector{bottom:15%;}","button.__jsx-style-dynamic-selector{background:transparent;border:none;color:#fff;font-family:'Humming';font-size:20px;height:40px;padding:0 12px;}","button.__jsx-style-dynamic-selector:hover{background:transparent;font-size:22px;}"]),Ye)},State:p.FigGameState}}}]);